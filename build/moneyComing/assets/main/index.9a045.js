window.__require=function t(e,i,o){function n(r,a){if(!i[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=i[r]={exports:{}};e[r][0].call(u.exports,function(t){return n(e[r][1][t]||t)},u,u.exports,t,e,i,o)}return i[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<o.length;r++)n(o[r]);return n}({AutoSpinView:[function(t,e,i){"use strict";cc._RF.push(e,"ede24kwpVdCS6kCQ3DWPJRc","AutoSpinView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../common/Common"),a=t("../manager/EgrManager"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e.main=null,e.totalSpin_Toggle=null,e.singleWinRatioExceeds_Toggle=null,e.winStop_Toggle=null,e.lossStop_Toggle=null,e.totalSpinLabel=null,e.winRatioLabel=null,e.stopifBalance_1=null,e.stopifBalance_2=null,e.winEditBox=null,e.lossEditBox=null,e.totalSpinNum=100,e.singleNum=100,e.balanceIfLoseNum=0,e.balanceIfWinNum=0,e.heldDown=!1,e.holdTimer=0,e.isPressIng=!1,e.pressStartTime=0,e.increaseRate=1,e.touchTime=0,e}return n(e,t),e.prototype.onLoad=function(){this.main.getChildByName("selectSpin").getChildByName("addBtn").on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.main.getChildByName("selectSpin").getChildByName("addBtn").on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.main.getChildByName("selectSpin").getChildByName("addBtn").on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.main.getChildByName("selectSingle").getChildByName("addBtn").on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.main.getChildByName("selectSingle").getChildByName("addBtn").on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.main.getChildByName("selectSingle").getChildByName("addBtn").on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.main.getChildByName("stop_1").getChildByName("addBtn").on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.main.getChildByName("stop_1").getChildByName("addBtn").on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.main.getChildByName("stop_1").getChildByName("addBtn").on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.main.getChildByName("stop_2").getChildByName("addBtn").on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.main.getChildByName("stop_2").getChildByName("addBtn").on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.main.getChildByName("stop_2").getChildByName("addBtn").on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.main.getChildByName("selectSpin").getChildByName("jianBtn").on(cc.Node.EventType.TOUCH_CANCEL,this.onreducTouchEnd,this),this.main.getChildByName("selectSpin").getChildByName("jianBtn").on(cc.Node.EventType.TOUCH_END,this.onreducTouchEnd,this),this.main.getChildByName("selectSpin").getChildByName("jianBtn").on(cc.Node.EventType.TOUCH_START,this.onReduceTouchStart,this),this.main.getChildByName("selectSingle").getChildByName("jianBtn").on(cc.Node.EventType.TOUCH_CANCEL,this.onreducTouchEnd,this),this.main.getChildByName("selectSingle").getChildByName("jianBtn").on(cc.Node.EventType.TOUCH_END,this.onreducTouchEnd,this),this.main.getChildByName("selectSingle").getChildByName("jianBtn").on(cc.Node.EventType.TOUCH_START,this.onReduceTouchStart,this),this.main.getChildByName("stop_1").getChildByName("jianBtn").on(cc.Node.EventType.TOUCH_CANCEL,this.onreducTouchEnd,this),this.main.getChildByName("stop_1").getChildByName("jianBtn").on(cc.Node.EventType.TOUCH_END,this.onreducTouchEnd,this),this.main.getChildByName("stop_1").getChildByName("jianBtn").on(cc.Node.EventType.TOUCH_START,this.onReduceTouchStart,this),this.main.getChildByName("stop_2").getChildByName("jianBtn").on(cc.Node.EventType.TOUCH_CANCEL,this.onreducTouchEnd,this),this.main.getChildByName("stop_2").getChildByName("jianBtn").on(cc.Node.EventType.TOUCH_END,this.onreducTouchEnd,this),this.main.getChildByName("stop_2").getChildByName("jianBtn").on(cc.Node.EventType.TOUCH_START,this.onReduceTouchStart,this),this.lossEditBox.node.on("text-changed",this.onlossTextChanged,this),this.winEditBox.node.on("text-changed",this.onwinTextChanged,this)},e.prototype.losseditBoxClear=function(){this.lossEditBox.string=""},e.prototype.wineditBoxClear=function(){this.winEditBox.string=""},e.prototype.show=function(){this.singleWinRatioExceeds_Toggle.isChecked=r.Common.singleWin,this.winStop_Toggle.isChecked=r.Common.stopwinBalance,this.lossStop_Toggle.isChecked=r.Common.stopLoseBalance,r.Common.totalSpinNumber>0?this.totalSpinNum=r.Common.totalSpinNumber:this.totalSpinNum=100,0!=r.Common.singleWinNumber?this.singleNum=r.Common.singleWinNumber:this.singleNum=100,0!=r.Common.stopwinBalanceNumber?this.balanceIfWinNum=r.Common.stopwinBalanceNumber:this.balanceIfWinNum=Math.floor(r.Common.availableamount+.5*r.Common.availableamount),0!=r.Common.stopLoseBalanceNumber?this.balanceIfLoseNum=r.Common.stopLoseBalanceNumber:this.balanceIfLoseNum=Math.floor(r.Common.availableamount-.6*r.Common.availableamount),this.totalSpinLabel.string=this.totalSpinNum+"",this.winRatioLabel.string=this.singleNum.toLocaleString()+"X",this.stopifBalance_1.string="\u20b9 "+this.balanceIfLoseNum.toString(),this.stopifBalance_2.string="\u20b9 "+this.balanceIfWinNum.toString(),this.lossEditBox.string="\u20b9 "+this.balanceIfLoseNum.toString(),this.winEditBox.string="\u20b9 "+this.balanceIfWinNum.toString(),this.mask.active=!0,this.mask.opacity=0,this.main.active=!0,this.main.scale=.5,this.main.opacity=0,cc.tween(this.mask).to(.5,{opacity:135}).start(),cc.tween(this.main).to(.5,{scale:1,opacity:255},{easing:"backOut"}).start()},e.prototype.hide=function(){var t=this;cc.tween(this.mask).to(.5,{opacity:0}).start(),cc.tween(this.main).to(.5,{scale:.5,opacity:0},{easing:"backOut"}).call(function(){t.mask.active=!1,t.mask.opacity=0,t.main.active=!1,t.main.scale=.5,t.main.opacity=0,t.main.destroy(),t.mask.destroy(),r.Common.curShowView=null}).start()},e.prototype.onTouchStart=function(t){var e,i=this;t.currentTarget.parent,this.isPressIng=!0,this.pressStartTime=Date.now(),this.schedule((e=t.currentTarget.parent,function(){i.increaseNumber(e)}),.1)},e.prototype.increaseNumber=function(t){if(this.isPressIng){var e=Date.now()-this.pressStartTime;console.log("\u6309\u4f4f\u65f6\u95f4>>",e);var i=0;e<1200?i=Math.floor(e/100)*this.increaseRate:e<2e3?i=Math.floor(e/100)*this.increaseRate*10:e>=2e3&&(i=Math.floor(e/100)*this.increaseRate*10),"selectSpin"==t.name?(this.totalSpinNum+=i,this.totalSpinNum>=999&&(this.totalSpinNum=999),this.totalSpinLabel.string=this.totalSpinNum+"",this.totalSpin_Toggle.isChecked=!0):"selectSingle"==t.name?(this.singleNum+=i,this.singleNum<=1&&(this.singleNum=1),this.winRatioLabel.string=this.singleNum.toLocaleString(),this.singleWinRatioExceeds_Toggle.isChecked=!0):"stop_1"==t.name?(this.balanceIfLoseNum+=i,this.balanceIfLoseNum<=0&&(this.balanceIfLoseNum=0),this.stopifBalance_1.string="\u20b9 "+this.balanceIfLoseNum.toLocaleString(),this.lossEditBox.string="\u20b9 "+this.balanceIfLoseNum.toLocaleString(),this.winStop_Toggle.isChecked=!0):"stop_2"==t.name&&(this.balanceIfWinNum+=i,this.balanceIfWinNum<=0&&(this.balanceIfWinNum=0),this.stopifBalance_2.string="\u20b9 "+this.balanceIfWinNum.toLocaleString(),this.winEditBox.string="\u20b9 "+this.balanceIfWinNum.toLocaleString(),this.lossStop_Toggle.isChecked=!0)}},e.prototype.onlossTextChanged=function(t){var e=t.string;Number(e)>Math.floor(r.Common.availableamount)?(this.lossEditBox.string=r.Common.availableamount.toLocaleString(),this.balanceIfLoseNum=r.Common.availableamount):(this.lossEditBox.string="\u20b9 "+e,this.balanceIfLoseNum=Number(e)),this.winStop_Toggle.isChecked=!0},e.prototype.onwinTextChanged=function(t){var e=t.string;this.winEditBox.string="\u20b9 "+e.toLocaleString(),this.balanceIfWinNum=Number(e),this.winEditBox.string.length>12?this.winEditBox.fontSize=18-(e.length-11):this.winEditBox.fontSize=18,this.lossStop_Toggle.isChecked=!0},e.prototype.onReduceTouchStart=function(t){var e,i=this;this.heldDown=!0,t.currentTarget.parent,this.isPressIng=!0,this.pressStartTime=Date.now(),this.schedule((e=t.currentTarget.parent,function(){i.reduceNumber(e)}),.1)},e.prototype.onTouchEndNode=function(){console.log("\u677e\u624b"),this.isPressIng&&(this.isPressIng=!1,this.unscheduleAllCallbacks())},e.prototype.onTouchEnd=function(t){this.isPressIng&&(this.isPressIng=!1,this.unscheduleAllCallbacks());var e=t.currentTarget.parent;Date.now()-this.pressStartTime<1e3&&("selectSpin"==e.name?(this.totalSpinNum+=1,this.totalSpinNum>=999&&(this.totalSpinNum=999),this.totalSpinLabel.string=this.totalSpinNum+"",this.totalSpin_Toggle.isChecked=!0):"selectSingle"==e.name?(this.singleNum+=10,this.winRatioLabel.string=this.singleNum.toLocaleString(),this.singleWinRatioExceeds_Toggle.isChecked=!0):"stop_1"==e.name?(this.balanceIfLoseNum+=10,this.stopifBalance_1.string="\u20b9 "+this.balanceIfLoseNum.toLocaleString(),this.lossEditBox.string="\u20b9 "+this.balanceIfLoseNum.toLocaleString(),this.winStop_Toggle.isChecked=!0):"stop_2"==e.name&&(this.balanceIfWinNum+=10,this.stopifBalance_2.string="\u20b9 "+this.balanceIfWinNum.toLocaleString(),this.winEditBox.string="\u20b9 "+this.balanceIfWinNum.toLocaleString(),this.lossStop_Toggle.isChecked=!0)),this.winRatioLabel.string=this.singleNum+"X"},e.prototype.onreducTouchEnd=function(t){this.isPressIng&&(this.isPressIng=!1,this.unscheduleAllCallbacks());var e=t.currentTarget.parent;Date.now()-this.pressStartTime<1e3&&("selectSpin"==e.name?(this.totalSpinNum-=1,this.totalSpinNum<=5&&(this.totalSpinNum=5),this.totalSpinLabel.string=this.totalSpinNum+"",this.totalSpin_Toggle.isChecked=!0):"selectSingle"==e.name?(this.singleNum-=10,this.singleNum<=1&&(this.singleNum=1),this.winRatioLabel.string=this.singleNum.toLocaleString(),this.singleWinRatioExceeds_Toggle.isChecked=!0):"stop_1"==e.name?(this.balanceIfLoseNum-=10,this.balanceIfLoseNum<=10&&(this.balanceIfLoseNum=10),this.stopifBalance_1.string="\u20b9 "+this.balanceIfLoseNum.toLocaleString(),this.lossEditBox.string="\u20b9 "+this.balanceIfLoseNum.toLocaleString(),this.winStop_Toggle.isChecked=!0):"stop_2"==e.name&&(this.balanceIfWinNum-=10,this.balanceIfWinNum<=10&&(this.balanceIfWinNum=10),this.stopifBalance_2.string="\u20b9 "+this.balanceIfWinNum.toLocaleString(),this.winEditBox.string="\u20b9 "+this.balanceIfWinNum.toLocaleString(),this.lossStop_Toggle.isChecked=!0)),this.winRatioLabel.string=this.singleNum+"X"},e.prototype.reduceNumber=function(t){if(this.isPressIng){var e=Date.now()-this.pressStartTime;console.log("\u6309\u4f4f\u65f6\u95f4>>",e);var i=0;e<1200?i=Math.floor(e/100)*this.increaseRate:e<2e3?i=Math.floor(e/100)*this.increaseRate*10:e>=2e3&&(i=Math.floor(e/100)*this.increaseRate*10),"selectSpin"==t.name?(this.totalSpinNum-=i,this.totalSpinNum<=5&&(this.totalSpinNum=5),this.totalSpinLabel.string=this.totalSpinNum+"",this.totalSpin_Toggle.isChecked=!0):"selectSingle"==t.name?(this.singleNum-=i,this.singleNum<=1&&(this.singleNum=1),this.winRatioLabel.string=this.singleNum.toLocaleString(),this.singleWinRatioExceeds_Toggle.isChecked=!0):"stop_1"==t.name?(this.balanceIfLoseNum-=i,this.balanceIfLoseNum<=0&&(this.balanceIfLoseNum=0),this.stopifBalance_1.string="\u20b9 "+this.balanceIfLoseNum.toLocaleString(),this.lossEditBox.string="\u20b9 "+this.balanceIfLoseNum.toLocaleString(),this.winStop_Toggle.isChecked=!0):"stop_2"==t.name&&(this.balanceIfWinNum-=i,this.balanceIfWinNum<=0&&(this.balanceIfWinNum=0),this.stopifBalance_2.string="\u20b9 "+this.balanceIfWinNum.toLocaleString(),this.winEditBox.string="\u20b9 "+this.balanceIfWinNum.toLocaleString(),this.lossStop_Toggle.isChecked=!0)}},e.prototype.onAddHandler=function(t,e){"selectSpin"==t.currentTarget.parent.name?(this.totalSpinNum+=1,this.totalSpinNum>=999&&(this.totalSpinNum=999),this.totalSpinLabel.string=this.totalSpinNum+"",this.totalSpin_Toggle.isChecked=!0):"single"==e?(this.singleNum+=1,this.winRatioLabel.string=this.singleNum.toLocaleString()):"stop_1"==e?(this.balanceIfLoseNum+=10,this.stopifBalance_1.string="\u20b9 "+this.balanceIfLoseNum,this.winStop_Toggle.isChecked=!0):"stop_2"==e&&(this.balanceIfWinNum+=10,this.stopifBalance_2.string="\u20b9 "+this.balanceIfWinNum,this.winEditBox.string="\u20b9 "+this.balanceIfWinNum,this.lossStop_Toggle.isChecked=!0)},e.prototype.onReduceHandler=function(t,e){"spin"==e?(this.totalSpinNum-=1,this.totalSpinNum<=5&&(this.totalSpinNum=5),this.totalSpinLabel.string=this.totalSpinNum+""):"single"==e?(this.singleNum-=1,this.singleNum<=1&&(this.singleNum=1),this.winRatioLabel.string=this.singleNum+"X"):"stop_1"==e?(this.balanceIfLoseNum-=10,this.balanceIfLoseNum<=0&&(this.balanceIfLoseNum=0),this.stopifBalance_1.string="\u20b9 "+this.balanceIfLoseNum):"stop_2"==e&&(this.balanceIfWinNum-=10,this.balanceIfWinNum<=0&&(this.balanceIfWinNum=0),this.stopifBalance_2.string="\u20b9 "+this.balanceIfWinNum,this.winEditBox.string="\u20b9 "+this.balanceIfWinNum)},e.prototype.selectNum=function(t,e){this.totalSpinNum=Number(e),this.totalSpinLabel.string=this.totalSpinNum+""},e.prototype.onAutoStart=function(){this.totalSpin_Toggle.isChecked?(r.Common.totalSpinNumber=this.totalSpinNum,r.Common.totalSpin=!0):(r.Common.totalSpinNumber=10,r.Common.totalSpin=!1),this.singleWinRatioExceeds_Toggle.isChecked?(r.Common.singleWinNumber=this.singleNum,r.Common.singleWin=!0):(r.Common.singleWinNumber=0,r.Common.singleWin=!1),this.winStop_Toggle.isChecked?(r.Common.stopwinBalanceNumber=this.balanceIfWinNum,r.Common.stopwinBalance=!0):(r.Common.stopwinBalanceNumber=0,r.Common.stopwinBalance=!1),this.lossStop_Toggle.isChecked?(r.Common.stopLoseBalanceNumber=this.balanceIfLoseNum,r.Common.stopLoseBalance=!0):(r.Common.stopLoseBalanceNumber=0,r.Common.stopLoseBalance=!1),a.EgrManager.Instance.dispatch_event("AutoStart","",1),this.hide()},s([u(cc.Node)],e.prototype,"mask",void 0),s([u(cc.Node)],e.prototype,"main",void 0),s([u(cc.Toggle)],e.prototype,"totalSpin_Toggle",void 0),s([u(cc.Toggle)],e.prototype,"singleWinRatioExceeds_Toggle",void 0),s([u(cc.Toggle)],e.prototype,"winStop_Toggle",void 0),s([u(cc.Toggle)],e.prototype,"lossStop_Toggle",void 0),s([u(cc.Label)],e.prototype,"totalSpinLabel",void 0),s([u(cc.Label)],e.prototype,"winRatioLabel",void 0),s([u(cc.Label)],e.prototype,"stopifBalance_1",void 0),s([u(cc.Label)],e.prototype,"stopifBalance_2",void 0),s([u(cc.EditBox)],e.prototype,"winEditBox",void 0),s([u(cc.EditBox)],e.prototype,"lossEditBox",void 0),s([l],e)}(cc.Component);i.default=h,cc._RF.pop()},{"../common/Common":"Common","../manager/EgrManager":"EgrManager"}],BackpackView:[function(t,e,i){"use strict";cc._RF.push(e,"c2e104566hNCYFP/W1ht+v8","BackpackView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../common/Common"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.thisGameToggle=null,e.thisGameNode=null,e.otherGameNode=null,e.otherGameToggle=null,e.messageNode=null,e.messageToggle=null,e.mask=null,e.main=null,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.show=function(){this.mask.active=!0,this.mask.opacity=0,this.main.active=!0,this.main.scale=.5,this.main.opacity=0,cc.tween(this.mask).to(.5,{opacity:135}).start(),cc.tween(this.main).to(.5,{scale:1,opacity:255},{easing:"backOut"}).start()},e.prototype.hide=function(){var t=this;cc.tween(this.mask).to(.5,{opacity:0}).start(),cc.tween(this.main).to(.5,{scale:.5,opacity:0},{easing:"backOut"}).call(function(){t.mask.active=!1,t.mask.opacity=0,t.main.active=!1,t.main.scale=.5,t.main.opacity=0,t.main.destroy(),t.mask.destroy(),r.Common.curShowView=null}).start()},e.prototype.changeView=function(){this.thisGameNode.active=this.thisGameToggle.isChecked,this.otherGameNode.active=this.otherGameToggle.isChecked,this.messageNode.active=this.messageToggle.isChecked},s([l(cc.Toggle)],e.prototype,"thisGameToggle",void 0),s([l(cc.Node)],e.prototype,"thisGameNode",void 0),s([l(cc.Node)],e.prototype,"otherGameNode",void 0),s([l(cc.Toggle)],e.prototype,"otherGameToggle",void 0),s([l(cc.Node)],e.prototype,"messageNode",void 0),s([l(cc.Toggle)],e.prototype,"messageToggle",void 0),s([l(cc.Node)],e.prototype,"mask",void 0),s([l(cc.Node)],e.prototype,"main",void 0),s([c],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../common/Common":"Common"}],ButtonEffect:[function(t,e,i){"use strict";cc._RF.push(e,"ce522F3wLtNv7IOj4p9juXk","ButtonEffect");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../manager/SoundManager"),a=cc._decorator,c=a.ccclass,l=(a.property,a.menu),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.startScale=this.node.scale,this.endScale=this.node.scale-.1,this.node.on(cc.Node.EventType.TOUCH_START,this.mouseDown,this),this.node.on(cc.Node.EventType.TOUCH_END,this.mouseEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.mouseEnd,this)},e.prototype.mouseDown=function(){cc.tween(this.node).to(.1,{scale:this.endScale}).start()},e.prototype.mouseEnd=function(){r.SoundManager.playClickSound("click"),cc.tween(this.node).to(.1,{scale:this.startScale}).start()},s([c,l("xuhang/button/ButtonEffect")],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../manager/SoundManager":"SoundManager"}],1:[function(t,e,i){"use strict";i.byteLength=function(t){var e=l(t),i=e[0],o=e[1];return 3*(i+o)/4-o},i.toByteArray=function(t){var e,i,o=l(t),r=o[0],a=o[1],c=new s(u(0,r,a)),h=0,p=a>0?r-4:r;for(i=0;i<p;i+=4)e=n[t.charCodeAt(i)]<<18|n[t.charCodeAt(i+1)]<<12|n[t.charCodeAt(i+2)]<<6|n[t.charCodeAt(i+3)],c[h++]=e>>16&255,c[h++]=e>>8&255,c[h++]=255&e;return 2===a&&(e=n[t.charCodeAt(i)]<<2|n[t.charCodeAt(i+1)]>>4,c[h++]=255&e),1===a&&(e=n[t.charCodeAt(i)]<<10|n[t.charCodeAt(i+1)]<<4|n[t.charCodeAt(i+2)]>>2,c[h++]=e>>8&255,c[h++]=255&e),c},i.fromByteArray=function(t){for(var e,i=t.length,n=i%3,s=[],r=0,a=i-n;r<a;r+=16383)s.push(h(t,r,r+16383>a?a:r+16383));return 1===n?(e=t[i-1],s.push(o[e>>2]+o[e<<4&63]+"==")):2===n&&(e=(t[i-2]<<8)+t[i-1],s.push(o[e>>10]+o[e>>4&63]+o[e<<2&63]+"=")),s.join("")};for(var o=[],n=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=r.length;a<c;++a)o[a]=r[a],n[r.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function u(t,e,i){return 3*(e+i)/4-i}function h(t,e,i){for(var n,s,r=[],a=e;a<i;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),r.push(o[(s=n)>>18&63]+o[s>>12&63]+o[s>>6&63]+o[63&s]);return r.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},{}],2:[function(t,e,i){(function(e){"use strict";var o=t("base64-js"),n=t("ieee754"),s=t("isarray");function r(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,i){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return l(this,t,e,i)}function l(t,e,i,o){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(t,e,i,o):"string"==typeof e?d(t,e,i):y(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e,i,o){return u(e),e<=0?a(t,e):void 0!==i?"string"==typeof o?a(t,e).fill(i,o):a(t,e).fill(i):a(t,e)}function p(t,e){if(u(e),t=a(t,e<0?0:0|g(e)),!c.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function d(t,e,i){if("string"==typeof i&&""!==i||(i="utf8"),!c.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var o=0|b(e,i),n=(t=a(t,o)).write(e,i);return n!==o&&(t=t.slice(0,n)),t}function m(t,e){var i=e.length<0?0:0|g(e.length);t=a(t,i);for(var o=0;o<i;o+=1)t[o]=255&e[o];return t}function f(t,e,i,o){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(o||0))throw new RangeError("'length' is out of bounds");return e=void 0===i&&void 0===o?new Uint8Array(e):void 0===o?new Uint8Array(e,i):new Uint8Array(e,i,o),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=m(t,e),t}function y(t,e){if(c.isBuffer(e)){var i=0|g(e.length);return 0===(t=a(t,i)).length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(o=e.length)!=o?a(t,0):m(t,e);if("Buffer"===e.type&&s(e.data))return m(t,e.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function b(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Q(t).length;default:if(o)return z(t).length;e=(""+e).toLowerCase(),o=!0}}function v(t,e,i){var o=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return E(this,e,i);case"utf8":case"utf-8":return T(this,e,i);case"ascii":return L(this,e,i);case"latin1":case"binary":return x(this,e,i);case"base64":return k(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,i);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function _(t,e,i){var o=t[e];t[e]=t[i],t[i]=o}function w(t,e,i,o,n){if(0===t.length)return-1;if("string"==typeof i?(o=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(n)return-1;i=t.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof e&&(e=c.from(e,o)),c.isBuffer(e))return 0===e.length?-1:C(t,e,i,o,n);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):C(t,[e],i,o,n);throw new TypeError("val must be string, number or Buffer")}function C(t,e,i,o,n){var s,r=1,a=t.length,c=e.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(t.length<2||e.length<2)return-1;r=2,a/=2,c/=2,i/=2}function l(t,e){return 1===r?t[e]:t.readUInt16BE(e*r)}if(n){var u=-1;for(s=i;s<a;s++)if(l(t,s)===l(e,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===c)return u*r}else-1!==u&&(s-=s-u),u=-1}else for(i+c>a&&(i=a-c),s=i;s>=0;s--){for(var h=!0,p=0;p<c;p++)if(l(t,s+p)!==l(e,p)){h=!1;break}if(h)return s}return-1}function N(t,e,i,o){i=Number(i)||0;var n=t.length-i;o?(o=Number(o))>n&&(o=n):o=n;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");o>s/2&&(o=s/2);for(var r=0;r<o;++r){var a=parseInt(e.substr(2*r,2),16);if(isNaN(a))return r;t[i+r]=a}return r}function B(t,e,i,o){return K(z(e,t.length-i),t,i,o)}function S(t,e,i,o){return K(X(e),t,i,o)}function A(t,e,i,o){return S(t,e,i,o)}function I(t,e,i,o){return K(Q(e),t,i,o)}function P(t,e,i,o){return K(J(e,t.length-i),t,i,o)}function k(t,e,i){return 0===e&&i===t.length?o.fromByteArray(t):o.fromByteArray(t.slice(e,i))}function T(t,e,i){i=Math.min(t.length,i);for(var o=[],n=e;n<i;){var s,r,a,c,l=t[n],u=null,h=l>239?4:l>223?3:l>191?2:1;if(n+h<=i)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(s=t[n+1]))&&(c=(31&l)<<6|63&s)>127&&(u=c);break;case 3:s=t[n+1],r=t[n+2],128==(192&s)&&128==(192&r)&&(c=(15&l)<<12|(63&s)<<6|63&r)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:s=t[n+1],r=t[n+2],a=t[n+3],128==(192&s)&&128==(192&r)&&128==(192&a)&&(c=(15&l)<<18|(63&s)<<12|(63&r)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,o.push(u>>>10&1023|55296),u=56320|1023&u),o.push(u),n+=h}return O(o)}i.Buffer=c,i.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},i.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),i.kMaxLength=r(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,i){return l(null,t,e,i)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,i){return h(null,t,e,i)},c.allocUnsafe=function(t){return p(null,t)},c.allocUnsafeSlow=function(t){return p(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,o=e.length,n=0,s=Math.min(i,o);n<s;++n)if(t[n]!==e[n]){i=t[n],o=e[n];break}return i<o?-1:o<i?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var o=c.allocUnsafe(e),n=0;for(i=0;i<t.length;++i){var r=t[i];if(!c.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(o,n),n+=r.length}return o},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):v.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",e=i.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,i,o,n){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===o&&(o=0),void 0===n&&(n=this.length),e<0||i>t.length||o<0||n>this.length)throw new RangeError("out of range index");if(o>=n&&e>=i)return 0;if(o>=n)return-1;if(e>=i)return 1;if(this===t)return 0;for(var s=(n>>>=0)-(o>>>=0),r=(i>>>=0)-(e>>>=0),a=Math.min(s,r),l=this.slice(o,n),u=t.slice(e,i),h=0;h<a;++h)if(l[h]!==u[h]){s=l[h],r=u[h];break}return s<r?-1:r<s?1:0},c.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},c.prototype.indexOf=function(t,e,i){return w(this,t,e,i,!0)},c.prototype.lastIndexOf=function(t,e,i){return w(this,t,e,i,!1)},c.prototype.write=function(t,e,i,o){if(void 0===e)o="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)o=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===o&&(o="utf8")):(o=i,i=void 0)}var n=this.length-e;if((void 0===i||i>n)&&(i=n),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var s=!1;;)switch(o){case"hex":return N(this,t,e,i);case"utf8":case"utf-8":return B(this,t,e,i);case"ascii":return S(this,t,e,i);case"latin1":case"binary":return A(this,t,e,i);case"base64":return I(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function O(t){var e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);for(var i="",o=0;o<e;)i+=String.fromCharCode.apply(String,t.slice(o,o+=R));return i}function L(t,e,i){var o="";i=Math.min(t.length,i);for(var n=e;n<i;++n)o+=String.fromCharCode(127&t[n]);return o}function x(t,e,i){var o="";i=Math.min(t.length,i);for(var n=e;n<i;++n)o+=String.fromCharCode(t[n]);return o}function E(t,e,i){var o,n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var s="",r=e;r<i;++r)s+=(o=t[r])<16?"0"+o.toString(16):o.toString(16);return s}function M(t,e,i){for(var o=t.slice(e,i),n="",s=0;s<o.length;s+=2)n+=String.fromCharCode(o[s]+256*o[s+1]);return n}function F(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function V(t,e,i,o,n,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(i+o>t.length)throw new RangeError("Index out of range")}function D(t,e,i,o){e<0&&(e=65535+e+1);for(var n=0,s=Math.min(t.length-i,2);n<s;++n)t[i+n]=(e&255<<8*(o?n:1-n))>>>8*(o?n:1-n)}function j(t,e,i,o){e<0&&(e=4294967295+e+1);for(var n=0,s=Math.min(t.length-i,4);n<s;++n)t[i+n]=e>>>8*(o?n:3-n)&255}function U(t,e,i,o){if(i+o>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function W(t,e,i,o,s){return s||U(t,0,i,4),n.write(t,e,i,o,23,4),i+4}function Y(t,e,i,o,s){return s||U(t,0,i,8),n.write(t,e,i,o,52,8),i+8}c.prototype.slice=function(t,e){var i,o=this.length;if((t=~~t)<0?(t+=o)<0&&(t=0):t>o&&(t=o),(e=void 0===e?o:~~e)<0?(e+=o)<0&&(e=0):e>o&&(e=o),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=c.prototype;else{var n=e-t;i=new c(n,void 0);for(var s=0;s<n;++s)i[s]=this[s+t]}return i},c.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||F(t,e,this.length);for(var o=this[t],n=1,s=0;++s<e&&(n*=256);)o+=this[t+s]*n;return o},c.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||F(t,e,this.length);for(var o=this[t+--e],n=1;e>0&&(n*=256);)o+=this[t+--e]*n;return o},c.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||F(t,e,this.length);for(var o=this[t],n=1,s=0;++s<e&&(n*=256);)o+=this[t+s]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||F(t,e,this.length);for(var o=e,n=1,s=this[t+--o];o>0&&(n*=256);)s+=this[t+--o]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*e)),s},c.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),n.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),n.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),n.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),n.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,i,o){t=+t,e|=0,i|=0,o||V(this,t,e,i,Math.pow(2,8*i)-1,0);var n=1,s=0;for(this[e]=255&t;++s<i&&(n*=256);)this[e+s]=t/n&255;return e+i},c.prototype.writeUIntBE=function(t,e,i,o){t=+t,e|=0,i|=0,o||V(this,t,e,i,Math.pow(2,8*i)-1,0);var n=i-1,s=1;for(this[e+n]=255&t;--n>=0&&(s*=256);)this[e+n]=t/s&255;return e+i},c.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||V(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||V(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||V(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||V(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):j(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||V(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,i,o){if(t=+t,e|=0,!o){var n=Math.pow(2,8*i-1);V(this,t,e,i,n-1,-n)}var s=0,r=1,a=0;for(this[e]=255&t;++s<i&&(r*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/r>>0)-a&255;return e+i},c.prototype.writeIntBE=function(t,e,i,o){if(t=+t,e|=0,!o){var n=Math.pow(2,8*i-1);V(this,t,e,i,n-1,-n)}var s=i-1,r=1,a=0;for(this[e+s]=255&t;--s>=0&&(r*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/r>>0)-a&255;return e+i},c.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||V(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||V(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||V(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||V(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):j(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||V(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,i){return W(this,t,e,!0,i)},c.prototype.writeFloatBE=function(t,e,i){return W(this,t,e,!1,i)},c.prototype.writeDoubleLE=function(t,e,i){return Y(this,t,e,!0,i)},c.prototype.writeDoubleBE=function(t,e,i){return Y(this,t,e,!1,i)},c.prototype.copy=function(t,e,i,o){if(i||(i=0),o||0===o||(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<i&&(o=i),o===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-i&&(o=t.length-e+i);var n,s=o-i;if(this===t&&i<e&&e<o)for(n=s-1;n>=0;--n)t[n+e]=this[n+i];else if(s<1e3||!c.TYPED_ARRAY_SUPPORT)for(n=0;n<s;++n)t[n+e]=this[n+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),e);return s},c.prototype.fill=function(t,e,i,o){if("string"==typeof t){if("string"==typeof e?(o=e,e=0,i=this.length):"string"==typeof i&&(o=i,i=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!c.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var s;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(s=e;s<i;++s)this[s]=t;else{var r=c.isBuffer(t)?t:z(new c(t,o).toString()),a=r.length;for(s=0;s<i-e;++s)this[s+e]=r[s%a]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function H(t){if((t=G(t).replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function G(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t,e){var i;e=e||1/0;for(var o=t.length,n=null,s=[],r=0;r<o;++r){if((i=t.charCodeAt(r))>55295&&i<57344){if(!n){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(r+1===o){(e-=3)>-1&&s.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function X(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function J(t,e){for(var i,o,n,s=[],r=0;r<t.length&&!((e-=2)<0);++r)o=(i=t.charCodeAt(r))>>8,n=i%256,s.push(n),s.push(o);return s}function Q(t){return o.toByteArray(H(t))}function K(t,e,i,o){for(var n=0;n<o&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(t,e){var i={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},{}],4:[function(t,e,i){i.read=function(t,e,i,o,n){var s,r,a=8*n-o-1,c=(1<<a)-1,l=c>>1,u=-7,h=i?n-1:0,p=i?-1:1,d=t[e+h];for(h+=p,s=d&(1<<-u)-1,d>>=-u,u+=a;u>0;s=256*s+t[e+h],h+=p,u-=8);for(r=s&(1<<-u)-1,s>>=-u,u+=o;u>0;r=256*r+t[e+h],h+=p,u-=8);if(0===s)s=1-l;else{if(s===c)return r?NaN:1/0*(d?-1:1);r+=Math.pow(2,o),s-=l}return(d?-1:1)*r*Math.pow(2,s-o)},i.write=function(t,e,i,o,n,s){var r,a,c,l=8*s-n-1,u=(1<<l)-1,h=u>>1,p=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=o?0:s-1,m=o?1:-1,f=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,r=u):(r=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-r))<1&&(r--,c*=2),(e+=r+h>=1?p/c:p*Math.pow(2,1-h))*c>=2&&(r++,c/=2),r+h>=u?(a=0,r=u):r+h>=1?(a=(e*c-1)*Math.pow(2,n),r+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,n),r=0));n>=8;t[i+d]=255&a,d+=m,a/=256,n-=8);for(r=r<<n|a,l+=n;l>0;t[i+d]=255&r,d+=m,r/=256,l-=8);t[i+d-m]|=128*f}},{}],Common:[function(t,e,i){"use strict";cc._RF.push(e,"2cc46dH3b9P5YvhR7hacdu6","Common");var o=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0}),i.Common=void 0;var n=t("../prefabs/AutoSpinView"),s=t("../prefabs/BackpackView"),r=t("../prefabs/FortuneGems"),a=t("../prefabs/PromptView"),c=t("../prefabs/TipView"),l=t("../prefabs/WinMoreView"),u=t("../prefabs/recordView"),h=cc._decorator,p=h.ccclass,d=(h.property,function(){function t(){}var e;return e=t,t.isValidJSON=function(t){try{return JSON.parse(t),!0}catch(e){return!1}},t.oDecimal2=function(t){var e=parseFloat(t);if(isNaN(e))return!1;var i=(e=Math.round(100*t)/100).toString(),o=i.indexOf(".");for(o<0&&(o=i.length,i+=".");i.length<=o+2;)i+="0";return i},t.showPrompt=function(t){var i=this;null==this.curPrompt?cc.resources.load("prefabs/PromptView",cc.Prefab,function(o,n){var s=cc.instantiate(n);i.curPrompt=s.getComponent(a.default),e.showTipNode.addChild(i.curPrompt.node),i.curPrompt.showPromt(t)}):this.curPrompt.changeDesc(t)},t.showBackpackView=function(){null==this.curShowView&&cc.resources.load("prefabs/BackpackView",cc.Prefab,function(t,i){var o=cc.instantiate(i);e.curShowView=o.getComponent(s.default),e.showViewNode.addChild(e.curShowView.node),e.curShowView.show()})},t.showWinMoreView=function(){null==this.curShowView&&cc.resources.load("prefabs/WinMoreView",cc.Prefab,function(t,i){var o=cc.instantiate(i);e.curShowView=o.getComponent(l.default),e.showViewNode.addChild(e.curShowView.node),e.curShowView.show()})},t.showTipView=function(t,i){void 0===i&&(i=null),null==this.curTipView?cc.resources.load("prefabs/TipView",cc.Prefab,function(o,n){var s=cc.instantiate(n);e.curTipView=s.getComponent(c.default),e.showTipNode.addChild(e.curTipView.node),e.curTipView.show(t,i)}):e.curTipView.changeDesc(t)},t.showAutoSpinView=function(){null==this.curShowView&&cc.resources.load("prefabs/AutoSpinView",cc.Prefab,function(t,i){var o=cc.instantiate(i);e.curShowView=o.getComponent(n.default),e.showViewNode.addChild(e.curShowView.node),e.curShowView.show()})},t.showrecordView=function(){null==this.curShowView&&cc.resources.load("prefabs/recordView",cc.Prefab,function(t,i){var o=cc.instantiate(i);e.curShowView=o.getComponent(u.default),e.showViewNode.addChild(e.curShowView.node),e.curShowView.show()})},t.showFortuneGems=function(){null==this.curShowView&&cc.resources.load("prefabs/FortuneGems",cc.Prefab,function(t,i){var o=cc.instantiate(i);e.curShowView=o.getComponent(r.default),e.showViewNode.addChild(e.curShowView.node),e.curShowView.show()})},t.moneyStr="\u20b9 ",t.settle_availableamount=0,t.availableamount=0,t.curShowView=null,t.curTipView=null,t.item_icons=[],t.record_item_icons=[],t.game_id="60002",t.curPrompt=null,t.recordArr=[],t.itemType=["00","0","1","5","10"],t.recordItemType=["00","0","1","5","10"],t.recordMultipleArr=["x2","x5","x10","all_respin","scatter","scatter_100"],t.recordmultipleArrServer=["2","5","10","all_respin","scatter_green","scatter_red"],t.multipleArr=["x2","x5","x10","all_respin","scatter","scatter_100"],t.multipleArrServer=["2","5","10","all_respin","scatter_green","scatter_red"],t.totalSpin=!1,t.totalSpinNumber=0,t.singleWin=!1,t.singleWinNumber=0,t.stopwinBalance=!1,t.stopwinBalanceNumber=0,t.stopLoseBalance=!1,t.stopLoseBalanceNumber=0,t.music_switch=0,t.isCanPlaySound=!1,t.homeUrl="",t.turntableItemmMoney=[1e3,100,25,500,75,150,50,250],t.turntableItemRotation=[0,-45,-90,-135,-180,-225,-270,-315],e=o([p],t)}());i.Common=d,cc._RF.pop()},{"../prefabs/AutoSpinView":"AutoSpinView","../prefabs/BackpackView":"BackpackView","../prefabs/FortuneGems":"FortuneGems","../prefabs/PromptView":"PromptView","../prefabs/TipView":"TipView","../prefabs/WinMoreView":"WinMoreView","../prefabs/recordView":"recordView"}],5:[function(t,e,i){(function(t){var o;o=function(){return function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){function o(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o=n(t),s=o.source,l=o.id,u=o.path,h=c[l]&&u in c[l].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||h?(a("ignoring socket cache for %s",s),i=r(s,e)):(c[l]||(a("new io instance for %s",s),c[l]=r(s,e)),i=c[l]),o.query&&!e.query&&(e.query=o.query),i.socket(o.path,e)}var n=i(1),s=i(7),r=i(12),a=i(3)("socket.io-client");t.exports=e=o;var c=e.managers={};e.protocol=s.protocol,e.connect=o,e.Manager=i(12),e.Socket=i(37)},function(t,e,i){var o=i(2),n=i(3)("socket.io-client:url");t.exports=function(t,e){var i=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(n("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),n("parse %s",t),i=o(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var s=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port,i.href=i.protocol+"://"+s+(e&&e.port===i.port?"":":"+i.port),i}},function(t){function e(t,e){var i=e.replace(/\/{2,9}/g,"/").split("/");return"/"!=e.substr(0,1)&&0!==e.length||i.splice(0,1),"/"==e.substr(e.length-1,1)&&i.splice(i.length-1,1),i}function i(t,e){var i={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,e,o){e&&(i[e]=o)}),i}var o=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var s=t,r=t.indexOf("["),a=t.indexOf("]");-1!=r&&-1!=a&&(t=t.substring(0,r)+t.substring(r,a).replace(/:/g,";")+t.substring(a,t.length));for(var c=o.exec(t||""),l={},u=14;u--;)l[n[u]]=c[u]||"";return-1!=r&&-1!=a&&(l.source=s,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=e(0,l.path),l.queryKey=i(0,l.query),l}},function(t,e,i){(function(o){"use strict";function n(){var t;try{t=e.storage.debug}catch(i){}return!t&&void 0!==o&&"env"in o&&(t=o.env.DEBUG),t}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(e=t.exports=i(5)).log=function(){return"object"===("undefined"==typeof console?"undefined":s(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var i=this.useColors;if(t[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+t[0]+(i?"%c ":" ")+"+"+e.humanize(this.diff),i){var o="color: "+this.color;t.splice(1,0,o,"color: inherit");var n=0,s=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(n++,"%c"===t&&(s=n))}),t.splice(s,0,o)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(i){}},e.load=n,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(n())}).call(e,i(4))},function(t){function e(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function n(t){if(u===setTimeout)return setTimeout(t,0);if((u===e||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(o){try{return u.call(null,t,0)}catch(o){return u.call(this,t,0)}}}function s(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(o){try{return h.call(null,t)}catch(o){return h.call(this,t)}}}function r(){f&&d&&(f=!1,d.length?m=d.concat(m):y=-1,m.length&&a())}function a(){if(!f){var t=n(r);f=!0;for(var e=m.length;e;){for(d=m,m=[];++y<e;)d&&d[y].run();y=-1,e=m.length}d=null,f=!1,s(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u,h,p=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:e}catch(t){u=e}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var d,m=[],f=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];m.push(new c(t,e)),1!==m.length||f||n(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(){return[]},p.binding=function(){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,i){"use strict";function o(t){var i,o=0;for(i in t)o=(o<<5)-o+t.charCodeAt(i),o|=0;return e.colors[Math.abs(o)%e.colors.length]}function n(t){function i(){if(i.enabled){var t=i,o=+new Date,s=o-(n||o);t.diff=s,t.prev=n,t.curr=o,n=o;for(var r=new Array(arguments.length),a=0;a<r.length;a++)r[a]=arguments[a];r[0]=e.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,function(i,o){if("%%"===i)return i;c++;var n=e.formatters[o];if("function"==typeof n){var s=r[c];i=n.call(t,s),r.splice(c,1),c--}return i}),e.formatArgs.call(t,r),(i.log||e.log||console.log.bind(console)).apply(t,r)}}var n;return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=o(t),i.destroy=s,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function s(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];var i,o=("string"==typeof t?t:"").split(/[\s,]+/),n=o.length;for(i=0;i<n;i++)o[i]&&("-"===(t=o[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(i=0;i<e.instances.length;i++){var s=e.instances[i];s.enabled=e.enabled(s.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var i,o;for(i=0,o=e.skips.length;i<o;i++)if(e.skips[i].test(t))return!1;for(i=0,o=e.names.length;i<o;i++)if(e.names[i].test(t))return!0;return!1},e.humanize=i(6),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t){function e(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var i=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return i*l;case"days":case"day":case"d":return i*c;case"hours":case"hour":case"hrs":case"hr":case"h":return i*a;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function i(t){return t>=c?Math.round(t/c)+"d":t>=a?Math.round(t/a)+"h":t>=r?Math.round(t/r)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function o(t){return n(t,c,"day")||n(t,a,"hour")||n(t,r,"minute")||n(t,s,"second")||t+" ms"}function n(t,e,i){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+i:Math.ceil(t/e)+" "+i+"s"}var s=1e3,r=60*s,a=60*r,c=24*a,l=365.25*c;t.exports=function(t,n){n=n||{};var s=typeof t;if("string"===s&&t.length>0)return e(t);if("number"===s&&!1===isNaN(t))return n.long?o(t):i(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,i){function o(){}function n(t){var i=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(i+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(i+=t.nsp+","),null!=t.id&&(i+=t.id),null!=t.data){var o=s(t.data);if(!1===o)return g;i+=o}return p("encoded %j as %s",t,i),i}function s(t){try{return JSON.stringify(t)}catch(e){return!1}}function r(t,e){m.removeBlobs(t,function(t){var i=m.deconstructPacket(t),o=n(i.packet),s=i.buffers;s.unshift(o),e(s)})}function a(){this.reconstructor=null}function c(t){var i=0,o={type:Number(t.charAt(0))};if(null==e.types[o.type])return h("unknown packet type "+o.type);if(e.BINARY_EVENT===o.type||e.BINARY_ACK===o.type){for(var n="";"-"!==t.charAt(++i)&&(n+=t.charAt(i),i!=t.length););if(n!=Number(n)||"-"!==t.charAt(i))throw new Error("Illegal attachments");o.attachments=Number(n)}if("/"===t.charAt(i+1))for(o.nsp="";++i&&","!==(r=t.charAt(i))&&(o.nsp+=r,i!==t.length););else o.nsp="/";var s=t.charAt(i+1);if(""!==s&&Number(s)==s){for(o.id="";++i;){var r;if(null==(r=t.charAt(i))||Number(r)!=r){--i;break}if(o.id+=t.charAt(i),i===t.length)break}o.id=Number(o.id)}if(t.charAt(++i)){var a=l(t.substr(i));if(!1===a||o.type!==e.ERROR&&!f(a))return h("invalid payload");o.data=a}return p("decoded %s as %j",t,o),o}function l(t){try{return JSON.parse(t)}catch(e){return!1}}function u(t){this.reconPack=t,this.buffers=[]}function h(t){return{type:e.ERROR,data:"parser error: "+t}}var p=i(3)("socket.io-parser"),d=i(8),m=i(9),f=i(10),y=i(11);e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=o,e.Decoder=a;var g=e.ERROR+'"encode error"';o.prototype.encode=function(t,i){p("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type?r(t,i):i([n(t)])},d(a.prototype),a.prototype.add=function(t){var i;if("string"==typeof t)i=c(t),e.BINARY_EVENT===i.type||e.BINARY_ACK===i.type?(this.reconstructor=new u(i),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",i)):this.emit("decoded",i);else{if(!y(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(i=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",i))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=m.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t){function e(t){if(t)return i(t)}function i(t){for(var i in e.prototype)t[i]=e.prototype[i];return t}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o,n=0;n<i.length;n++)if((o=i[n])===e||o.fn===e){i.splice(n,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(i){o=0;for(var n=(i=i.slice(0)).length;o<n;++o)i[o].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,i){function o(t,e){if(!t)return t;if(r(t)){var i={_placeholder:!0,num:e.length};return e.push(t),i}if(s(t)){for(var n=new Array(t.length),a=0;a<t.length;a++)n[a]=o(t[a],e);return n}if("object"==typeof t&&!(t instanceof Date)){for(var c in n={},t)n[c]=o(t[c],e);return n}return t}function n(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(s(t))for(var i=0;i<t.length;i++)t[i]=n(t[i],e);else if("object"==typeof t)for(var o in t)t[o]=n(t[o],e);return t}var s=i(10),r=i(11),a=Object.prototype.toString,c="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===a.call(Blob),l="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===a.call(File);e.deconstructPacket=function(t){var e=[],i=t.data,n=t;return n.data=o(i,e),n.attachments=e.length,{packet:n,buffers:e}},e.reconstructPacket=function(t,e){return t.data=n(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var i=0,o=t;(function t(n,a,u){if(!n)return n;if(c&&n instanceof Blob||l&&n instanceof File){i++;var h=new FileReader;h.onload=function(){u?u[a]=this.result:o=this.result,--i||e(o)},h.readAsArrayBuffer(n)}else if(s(n))for(var p=0;p<n.length;p++)t(n[p],p,n);else if("object"==typeof n&&!r(n))for(var d in n)t(n[d],d,n)})(o),i||e(o)}},function(t){var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},function(e){e.exports=function(e){return i&&t.isBuffer(e)||o&&(e instanceof ArrayBuffer||n(e))};var i="function"==typeof t&&"function"==typeof t.isBuffer,o="function"==typeof ArrayBuffer,n=function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}},function(t,e,i){function o(t,e){if(!(this instanceof o))return new o(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var i=e.parser||a;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}var n=i(13),s=i(37),r=i(8),a=i(7),c=i(39),l=i(40),u=i(3)("socket.io-client:manager"),h=i(36),p=i(41),d=Object.prototype.hasOwnProperty;t.exports=o,o.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},o.prototype.updateSocketIds=function(){for(var t in this.nsps)d.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},o.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},r(o.prototype),o.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},o.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},o.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},o.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},o.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},o.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},o.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},o.prototype.open=o.prototype.connect=function(t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=n(this.uri,this.opts);var e=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=c(e,"open",function(){i.onopen(),t&&t()}),s=c(e,"error",function(e){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",e),t){var o=new Error("Connection error");o.data=e,t(o)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var r=this._timeout;u("connect attempt will timeout after %d",r),0===r&&o.destroy();var a=setTimeout(function(){u("connect attempt timed out after %d",r),o.destroy(),e.close(),e.emit("error","timeout"),i.emitAll("connect_timeout",r)},r);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(o),this.subs.push(s),this},o.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(c(t,"data",l(this,"ondata"))),this.subs.push(c(t,"ping",l(this,"onping"))),this.subs.push(c(t,"pong",l(this,"onpong"))),this.subs.push(c(t,"error",l(this,"onerror"))),this.subs.push(c(t,"close",l(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",l(this,"ondecoded")))},o.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},o.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},o.prototype.ondata=function(t){this.decoder.add(t)},o.prototype.ondecoded=function(t){this.emit("packet",t)},o.prototype.onerror=function(t){u("error",t),this.emitAll("error",t)},o.prototype.socket=function(t,e){function i(){~h(n.connecting,o)||n.connecting.push(o)}var o=this.nsps[t];if(!o){o=new s(this,t,e),this.nsps[t]=o;var n=this;o.on("connecting",i),o.on("connect",function(){o.id=n.generateId(t)}),this.autoConnect&&i()}return o},o.prototype.destroy=function(t){var e=h(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},o.prototype.packet=function(t){u("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(i){for(var o=0;o<i.length;o++)e.engine.write(i[o],t.options);e.encoding=!1,e.processPacketQueue()}))},o.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},o.prototype.cleanup=function(){u("cleanup");for(var t=this.subs.length,e=0;e<t;e++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},o.prototype.close=o.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},o.prototype.onclose=function(t){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},o.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();u("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var i=setTimeout(function(){t.skipReconnect||(u("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(u("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(u("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(i)}})}},o.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,i){t.exports=i(14),t.exports.parser=i(22)},function(t,e,i){function o(t,e){return this instanceof o?(e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=u(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=u(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.withCredentials=!1!==e.withCredentials,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,void this.open()):new o(t,e)}function n(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}var s=i(15),r=i(8),a=i(3)("engine.io-client:socket"),c=i(36),l=i(22),u=i(2),h=i(30);t.exports=o,o.priorWebsocketSuccess=!1,r(o.prototype),o.protocol=l.protocol,o.Socket=o,o.Transport=i(21),o.transports=i(15),o.parser=i(22),o.prototype.createTransport=function(t){a('creating transport "%s"',t);var e=n(this.query);e.EIO=l.protocol,e.transport=t;var i=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new s[t]({query:e,socket:this,agent:i.agent||this.agent,hostname:i.hostname||this.hostname,port:i.port||this.port,secure:i.secure||this.secure,path:i.path||this.path,forceJSONP:i.forceJSONP||this.forceJSONP,jsonp:i.jsonp||this.jsonp,forceBase64:i.forceBase64||this.forceBase64,enablesXDR:i.enablesXDR||this.enablesXDR,withCredentials:i.withCredentials||this.withCredentials,timestampRequests:i.timestampRequests||this.timestampRequests,timestampParam:i.timestampParam||this.timestampParam,policyPort:i.policyPort||this.policyPort,pfx:i.pfx||this.pfx,key:i.key||this.key,passphrase:i.passphrase||this.passphrase,cert:i.cert||this.cert,ca:i.ca||this.ca,ciphers:i.ciphers||this.ciphers,rejectUnauthorized:i.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:i.perMessageDeflate||this.perMessageDeflate,extraHeaders:i.extraHeaders||this.extraHeaders,forceNode:i.forceNode||this.forceNode,localAddress:i.localAddress||this.localAddress,requestTimeout:i.requestTimeout||this.requestTimeout,protocols:i.protocols||void 0,isReactNative:this.isReactNative})},o.prototype.open=function(){var t;if(this.rememberUpgrade&&o.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(i){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},o.prototype.setTransport=function(t){a("setting transport %s",t.name);var e=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},o.prototype.probe=function(t){function e(){if(p.onlyBinaryUpgrades){var e=!this.supportsBinary&&p.transport.supportsBinary;h=h||e}h||(a('probe transport "%s" opened',t),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(e){if(!h)if("pong"===e.type&&"probe"===e.data){if(a('probe transport "%s" pong',t),p.upgrading=!0,p.emit("upgrading",u),!u)return;o.priorWebsocketSuccess="websocket"===u.name,a('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){h||"closed"!==p.readyState&&(a("changing transport and sending upgrade packet"),l(),p.setTransport(u),u.send([{type:"upgrade"}]),p.emit("upgrade",u),u=null,p.upgrading=!1,p.flush())})}else{a('probe transport "%s" failed',t);var i=new Error("probe error");i.transport=u.name,p.emit("upgradeError",i)}}))}function i(){h||(h=!0,l(),u.close(),u=null)}function n(e){var o=new Error("probe error: "+e);o.transport=u.name,i(),a('probe transport "%s" failed because of error: %s',t,e),p.emit("upgradeError",o)}function s(){n("transport closed")}function r(){n("socket closed")}function c(t){u&&t.name!==u.name&&(a('"%s" works - aborting "%s"',t.name,u.name),i())}function l(){u.removeListener("open",e),u.removeListener("error",n),u.removeListener("close",s),p.removeListener("close",r),p.removeListener("upgrading",c)}a('probing transport "%s"',t);var u=this.createTransport(t,{probe:1}),h=!1,p=this;o.priorWebsocketSuccess=!1,u.once("open",e),u.once("error",n),u.once("close",s),this.once("close",r),this.once("upgrading",c),u.open()},o.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",o.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},o.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else a('packet received with socket readyState "%s"',this.readyState)},o.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},o.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},o.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},o.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},o.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},o.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},o.prototype.write=o.prototype.send=function(t,e,i){return this.sendPacket("message",t,e,i),this},o.prototype.sendPacket=function(t,e,i,o){if("function"==typeof e&&(o=e,e=void 0),"function"==typeof i&&(o=i,i=null),"closing"!==this.readyState&&"closed"!==this.readyState){(i=i||{}).compress=!1!==i.compress;var n={type:t,data:e,options:i};this.emit("packetCreate",n),this.writeBuffer.push(n),o&&this.once("flush",o),this.flush()}},o.prototype.close=function(){function t(){o.onClose("forced close"),a("socket closing - telling transport to close"),o.transport.close()}function e(){o.removeListener("upgrade",e),o.removeListener("upgradeError",e),t()}function i(){o.once("upgrade",e),o.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var o=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():t()}):this.upgrading?i():t()}return this},o.prototype.onError=function(t){a("socket error %j",t),o.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},o.prototype.onClose=function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(a('socket close with reason: "%s"',t),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)},o.prototype.filterUpgrades=function(t){for(var e=[],i=0,o=t.length;i<o;i++)~c(this.transports,t[i])&&e.push(t[i]);return e}},function(t,e,i){var o=i(16),n=i(19),s=i(33),r=i(34);e.polling=function(t){var e=!1,i=!1,r=!1!==t.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,c=location.port;c||(c=a?443:80),e=t.hostname!==location.hostname||c!==t.port,i=t.secure!==a}if(t.xdomain=e,t.xscheme=i,"open"in new o(t)&&!t.forceJSONP)return new n(t);if(!r)throw new Error("JSONP disabled");return new s(t)},e.websocket=r},function(t,e,i){var o=i(17),n=i(18);t.exports=function(t){var e=t.xdomain,i=t.xscheme,s=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||o))return new XMLHttpRequest}catch(r){}try{if("undefined"!=typeof XDomainRequest&&!i&&s)return new XDomainRequest}catch(r){}if(!e)try{return new(n[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}},function(t){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t){t.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("","return this")()},function(t,e,i){function o(){}function n(t){if(c.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,i=location.port;i||(i=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||i!==t.port,this.xs=t.secure!==e}}function s(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function r(){for(var t in s.requests)s.requests.hasOwnProperty(t)&&s.requests[t].abort()}var a=i(16),c=i(20),l=i(8),u=i(31),h=i(3)("engine.io-client:polling-xhr"),p=i(18);t.exports=n,t.exports.Request=s,u(n,c),n.prototype.supportsBinary=!0,n.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.withCredentials=this.withCredentials,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new s(t)},n.prototype.doWrite=function(t,e){var i="string"!=typeof t&&void 0!==t,o=this.request({method:"POST",data:t,isBinary:i}),n=this;o.on("success",e),o.on("error",function(t){n.onError("xhr post error",t)}),this.sendXhr=o},n.prototype.doPoll=function(){h("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},l(s.prototype),s.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new a(t),i=this;try{h("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&e.setRequestHeader(o,this.extraHeaders[o])}catch(n){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}try{e.setRequestHeader("Accept","*/*")}catch(n){}"withCredentials"in e&&(e.withCredentials=this.withCredentials),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){i.onLoad()},e.onerror=function(){i.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");(i.supportsBinary&&"application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&(e.responseType="arraybuffer")}catch(o){}4===e.readyState&&(200===e.status||1223===e.status?i.onLoad():setTimeout(function(){i.onError("number"==typeof e.status?e.status:0)},0))},h("xhr data %s",this.data),e.send(this.data)}catch(n){return void setTimeout(function(){i.onError(n)},0)}"undefined"!=typeof document&&(this.index=s.requestsCount++,s.requests[this.index]=this)},s.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},s.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},s.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},s.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=o:this.xhr.onreadystatechange=o,t)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete s.requests[this.index],this.xhr=null}},s.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(i){}t=("application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&this.xhr.response||this.xhr.responseText}catch(i){this.onError(i)}null!=t&&this.onData(t)},s.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},s.prototype.abort=function(){this.cleanup()},s.requestsCount=0,s.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",r):"function"==typeof addEventListener&&addEventListener("onpagehide"in p?"pagehide":"unload",r,!1))},function(t,e,i){function o(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),n.call(this,t)}var n=i(21),s=i(30),r=i(22),a=i(31),c=i(32),l=i(3)("engine.io-client:polling");t.exports=o;var u=null!=new(i(16))({xdomain:!1}).responseType;a(o,n),o.prototype.name="polling",o.prototype.doOpen=function(){this.poll()},o.prototype.pause=function(t){function e(){l("paused"),i.readyState="paused",t()}var i=this;if(this.readyState="pausing",this.polling||!this.writable){var o=0;this.polling&&(l("we are currently polling - waiting to pause"),o++,this.once("pollComplete",function(){l("pre-pause polling complete"),--o||e()})),this.writable||(l("we are currently writing - waiting to pause"),o++,this.once("drain",function(){l("pre-pause writing complete"),--o||e()}))}else e()},o.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},o.prototype.onData=function(t){var e=this;l("polling got data %s",t),r.decodePayload(t,this.socket.binaryType,function(t){return"opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type?(e.onClose(),!1):void e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},o.prototype.doClose=function(){function t(){l("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(l("transport open - closing"),t()):(l("transport not open - deferring close"),this.once("open",t))},o.prototype.write=function(t){var e=this;this.writable=!1;var i=function(){e.writable=!0,e.emit("drain")};r.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,i)})},o.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",i="";return!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=s.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(i=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+t}},function(t,e,i){function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var n=i(22),s=i(8);t.exports=o,s(o.prototype),o.prototype.onError=function(t,e){var i=new Error(t);return i.type="TransportError",i.description=e,this.emit("error",i),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=n.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,i){function o(t,i){return i("b"+e.packets[t.type]+t.data.data)}function n(t,i,o){if(!i)return e.encodeBase64Packet(t,o);var n=t.data,s=new Uint8Array(n),r=new Uint8Array(1+n.byteLength);r[0]=b[t.type];for(var a=0;a<s.length;a++)r[a+1]=s[a];return o(r.buffer)}function s(t,i,o){if(!i)return e.encodeBase64Packet(t,o);var n=new FileReader;return n.onload=function(){e.encodePacket({type:t.type,data:n.result},i,!0,o)},n.readAsArrayBuffer(t.data)}function r(t,i,o){if(!i)return e.encodeBase64Packet(t,o);if(g)return s(t,i,o);var n=new Uint8Array(1);return n[0]=b[t.type],o(new w([n.buffer,t.data]))}function a(t){try{t=m.decode(t,{strict:!1})}catch(e){return!1}return t}function c(t,e,i){for(var o=new Array(t.length),n=d(t.length,i),s=function(t,i,n){e(i,function(e,i){o[t]=i,n(e,o)})},r=0;r<t.length;r++)s(r,t[r],n)}var l,u=i(23),h=i(24),p=i(25),d=i(26),m=i(27);"undefined"!=typeof ArrayBuffer&&(l=i(28));var f="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),y="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),g=f||y;e.protocol=3;var b=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=u(b),_={type:"error",data:"parser error"},w=i(29);e.encodePacket=function(t,e,i,s){"function"==typeof e&&(s=e,e=!1),"function"==typeof i&&(s=i,i=null);var a=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return n(t,e,s);if(void 0!==w&&a instanceof w)return r(t,e,s);if(a&&a.base64)return o(t,s);var c=b[t.type];return void 0!==t.data&&(c+=i?m.encode(String(t.data),{strict:!1}):String(t.data)),s(""+c)},e.encodeBase64Packet=function(t,i){var o,n="b"+e.packets[t.type];if(void 0!==w&&t.data instanceof w){var s=new FileReader;return s.onload=function(){var t=s.result.split(",")[1];i(n+t)},s.readAsDataURL(t.data)}try{o=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(r){for(var a=new Uint8Array(t.data),c=new Array(a.length),l=0;l<a.length;l++)c[l]=a[l];o=String.fromCharCode.apply(null,c)}return n+=btoa(o),i(n)},e.decodePacket=function(t,i,o){if(void 0===t)return _;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),i);if(o&&!1===(t=a(t)))return _;var n=t.charAt(0);return Number(n)==n&&v[n]?t.length>1?{type:v[n],data:t.substring(1)}:{type:v[n]}:_}n=new Uint8Array(t)[0];var s=p(t,1);return w&&"blob"===i&&(s=new w([s])),{type:v[n],data:s}},e.decodeBase64Packet=function(t,e){var i=v[t.charAt(0)];if(!l)return{type:i,data:{base64:!0,data:t.substr(1)}};var o=l.decode(t.substr(1));return"blob"===e&&w&&(o=new w([o])),{type:i,data:o}},e.encodePayload=function(t,i,o){function n(t){return t.length+":"+t}"function"==typeof i&&(o=i,i=null);var s=h(t);return i&&s?w&&!g?e.encodePayloadAsBlob(t,o):e.encodePayloadAsArrayBuffer(t,o):t.length?void c(t,function(t,o){e.encodePacket(t,!!s&&i,!1,function(t){o(null,n(t))})},function(t,e){return o(e.join(""))}):o("0:")},e.decodePayload=function(t,i,o){if("string"!=typeof t)return e.decodePayloadAsBinary(t,i,o);var n;if("function"==typeof i&&(o=i,i=null),""===t)return o(_,0,1);for(var s,r,a="",c=0,l=t.length;c<l;c++){var u=t.charAt(c);if(":"===u){if(""===a||a!=(s=Number(a)))return o(_,0,1);if(a!=(r=t.substr(c+1,s)).length)return o(_,0,1);if(r.length){if(n=e.decodePacket(r,i,!1),_.type===n.type&&_.data===n.data)return o(_,0,1);if(!1===o(n,c+s,l))return}c+=s,a=""}else a+=u}return""!==a?o(_,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,i){return t.length?void c(t,function(t,i){e.encodePacket(t,!0,!0,function(t){return i(null,t)})},function(t,e){var o=e.reduce(function(t,e){var i;return t+(i="string"==typeof e?e.length:e.byteLength).toString().length+i+2},0),n=new Uint8Array(o),s=0;return e.forEach(function(t){var e="string"==typeof t,i=t;if(e){for(var o=new Uint8Array(t.length),r=0;r<t.length;r++)o[r]=t.charCodeAt(r);i=o.buffer}n[s++]=e?0:1;var a=i.byteLength.toString();for(r=0;r<a.length;r++)n[s++]=parseInt(a[r]);for(n[s++]=255,o=new Uint8Array(i),r=0;r<o.length;r++)n[s++]=o[r]}),i(n.buffer)}):i(new ArrayBuffer(0))},e.encodePayloadAsBlob=function(t,i){c(t,function(t,i){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var o=new Uint8Array(t.length),n=0;n<t.length;n++)o[n]=t.charCodeAt(n);t=o.buffer,e[0]=0}var s=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),r=new Uint8Array(s.length+1);for(n=0;n<s.length;n++)r[n]=parseInt(s[n]);if(r[s.length]=255,w){var a=new w([e.buffer,r.buffer,t]);i(null,a)}})},function(t,e){return i(new w(e))})},e.decodePayloadAsBinary=function(t,i,o){"function"==typeof i&&(o=i,i=null);for(var n=t,s=[];n.byteLength>0;){for(var r=new Uint8Array(n),a=0===r[0],c="",l=1;255!==r[l];l++){if(c.length>310)return o(_,0,1);c+=r[l]}n=p(n,2+c.length),c=parseInt(c);var u=p(n,0,c);if(a)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(h){var d=new Uint8Array(u);for(u="",l=0;l<d.length;l++)u+=String.fromCharCode(d[l])}s.push(u),n=p(n,c)}var m=s.length;s.forEach(function(t,n){o(e.decodePacket(t,i,!0),n,m)})}},function(t){t.exports=Object.keys||function(t){var e=[],i=Object.prototype.hasOwnProperty;for(var o in t)i.call(t,o)&&e.push(o);return e}},function(e,i,o){var n=o(10),s=Object.prototype.toString,r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);e.exports=function e(i){if(!i||"object"!=typeof i)return!1;if(n(i)){for(var o=0,s=i.length;o<s;o++)if(e(i[o]))return!0;return!1}if("function"==typeof t&&t.isBuffer&&t.isBuffer(i)||"function"==typeof ArrayBuffer&&i instanceof ArrayBuffer||r&&i instanceof Blob||a&&i instanceof File)return!0;if(i.toJSON&&"function"==typeof i.toJSON&&1===arguments.length)return e(i.toJSON(),!0);for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)&&e(i[c]))return!0;return!1}},function(t){t.exports=function(t,e,i){var o=t.byteLength;if(e=e||0,i=i||o,t.slice)return t.slice(e,i);if(e<0&&(e+=o),i<0&&(i+=o),i>o&&(i=o),e>=o||e>=i||0===o)return new ArrayBuffer(0);for(var n=new Uint8Array(t),s=new Uint8Array(i-e),r=e,a=0;r<i;r++,a++)s[a]=n[r];return s.buffer}},function(t){function e(){}t.exports=function(t,i,o){function n(t,e){if(n.count<=0)throw new Error("after called too many times");--n.count,t?(s=!0,i(t),i=o):0!==n.count||s||i(null,e)}var s=!1;return o=o||e,n.count=t,0===t?i():n}},function(t){function e(t){for(var e,i,o=[],n=0,s=t.length;n<s;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<s?56320==(64512&(i=t.charCodeAt(n++)))?o.push(((1023&e)<<10)+(1023&i)+65536):(o.push(e),n--):o.push(e);return o}function i(t){for(var e,i=t.length,o=-1,n="";++o<i;)(e=t[o])>65535&&(n+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),n+=h(e);return n}function o(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function n(t,e){return h(t>>e&63|128)}function s(t,e){if(0==(4294967168&t))return h(t);var i="";return 0==(4294965248&t)?i=h(t>>6&31|192):0==(4294901760&t)?(o(t,e)||(t=65533),i=h(t>>12&15|224),i+=n(t,6)):0==(4292870144&t)&&(i=h(t>>18&7|240),i+=n(t,12),i+=n(t,6)),i+h(63&t|128)}function r(){if(u>=l)throw Error("Invalid byte index");var t=255&c[u];if(u++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function a(t){var e,i;if(u>l)throw Error("Invalid byte index");if(u==l)return!1;if(e=255&c[u],u++,0==(128&e))return e;if(192==(224&e)){if((i=(31&e)<<6|r())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if((i=(15&e)<<12|r()<<6|r())>=2048)return o(i,t)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(i=(7&e)<<18|r()<<12|r()<<6|r())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}var c,l,u,h=String.fromCharCode;t.exports={version:"2.1.2",encode:function(t,i){for(var o=!1!==(i=i||{}).strict,n=e(t),r=n.length,a=-1,c="";++a<r;)c+=s(n[a],o);return c},decode:function(t,o){var n=!1!==(o=o||{}).strict;c=e(t),l=c.length,u=0;for(var s,r=[];!1!==(s=a(n));)r.push(s);return i(r)}}},function(t,e){!function(t){"use strict";e.encode=function(e){var i,o=new Uint8Array(e),n=o.length,s="";for(i=0;i<n;i+=3)s+=t[o[i]>>2],s+=t[(3&o[i])<<4|o[i+1]>>4],s+=t[(15&o[i+1])<<2|o[i+2]>>6],s+=t[63&o[i+2]];return n%3==2?s=s.substring(0,s.length-1)+"=":n%3==1&&(s=s.substring(0,s.length-2)+"=="),s},e.decode=function(e){var i,o,n,s,r,a=.75*e.length,c=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(i=0;i<c;i+=4)o=t.indexOf(e[i]),n=t.indexOf(e[i+1]),s=t.indexOf(e[i+2]),r=t.indexOf(e[i+3]),h[l++]=o<<2|n>>4,h[l++]=(15&n)<<4|s>>2,h[l++]=(3&s)<<6|63&r;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(t){function e(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var i=new Uint8Array(t.byteLength);i.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=i.buffer}return e}return t})}function i(t,i){i=i||{};var o=new s;return e(t).forEach(function(t){o.append(t)}),i.type?o.getBlob(i.type):o.getBlob()}function n(t,i){return new Blob(e(t),i||{})}var s=void 0!==s?s:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(o){return!1}}(),a=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(o){return!1}}(),c=s&&s.prototype.append&&s.prototype.getBlob;"undefined"!=typeof Blob&&(i.prototype=Blob.prototype,n.prototype=Blob.prototype),t.exports=r?a?Blob:n:c?i:void 0},function(t,e){e.encode=function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e.length&&(e+="&"),e+=encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e},e.decode=function(t){for(var e={},i=t.split("&"),o=0,n=i.length;o<n;o++){var s=i[o].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}},function(t){t.exports=function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},function(t){"use strict";function e(t){var e="";do{e=n[t%s]+e,t=Math.floor(t/s)}while(t>0);return e}function i(){var t=e(+new Date);return t!==o?(a=0,o=t):t+"."+e(a++)}for(var o,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,r={},a=0,c=0;c<s;c++)r[n[c]]=c;i.encode=e,i.decode=function(t){var e=0;for(c=0;c<t.length;c++)e=e*s+r[t.charAt(c)];return e},t.exports=i},function(t,e,i){function o(){}function n(t){s.call(this,t),this.query=this.query||{},c||(c=a.___eio=a.___eio||[]),this.index=c.length;var e=this;c.push(function(t){e.onData(t)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){e.script&&(e.script.onerror=o)},!1)}var s=i(20),r=i(31),a=i(18);t.exports=n;var c,l=/\n/g,u=/\\n/g;r(n,s),n.prototype.supportsBinary=!1,n.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s.prototype.doClose.call(this)},n.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(e,i):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},n.prototype.doWrite=function(t,e){function i(){o(),e()}function o(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';s=document.createElement(e)}catch(t){(s=document.createElement("iframe")).name=n.iframeId,s.src="javascript:0"}s.id=n.iframeId,n.form.appendChild(s),n.iframe=s}var n=this;if(!this.form){var s,r=document.createElement("form"),a=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=c,r.method="POST",r.setAttribute("accept-charset","utf-8"),a.name="d",r.appendChild(a),document.body.appendChild(r),this.form=r,this.area=a}this.form.action=this.uri(),o(),t=t.replace(u,"\\\n"),this.area.value=t.replace(l,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&i()}:this.iframe.onload=i}},function(e,i,o){function n(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=s&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(d=r),a.call(this,t)}var s,r,a=o(21),c=o(22),l=o(30),u=o(31),h=o(32),p=o(3)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?s=WebSocket:"undefined"!=typeof self&&(s=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{r=o(35)}catch(m){}var d=s||r;e.exports=n,u(n,a),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,i={};this.isReactNative||(i.agent=this.agent,i.perMessageDeflate=this.perMessageDeflate,i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(i.headers=this.extraHeaders),this.localAddress&&(i.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new d(t,e):new d(t):new d(t,e,i)}catch(n){return this.emit("error",n)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},n.prototype.write=function(e){var i=this;this.writable=!1;for(var o=e.length,n=0,s=o;n<s;n++)!function(e){c.encodePacket(e,i.supportsBinary,function(n){if(!i.usingBrowserWebSocket){var s={};e.options&&(s.compress=e.options.compress),i.perMessageDeflate&&("string"==typeof n?t.byteLength(n):n.length)<i.perMessageDeflate.threshold&&(s.compress=!1)}try{i.usingBrowserWebSocket?i.ws.send(n):i.ws.send(n,s)}catch(c){p("websocket closed before onclose event")}--o||(i.emit("flush"),setTimeout(function(){i.writable=!0,i.emit("drain")},0))})}(e[n])},n.prototype.onClose=function(){a.prototype.onClose.call(this)},n.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",i="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(i=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=h()),this.supportsBinary||(t.b64=1),(t=l.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+t},n.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===n.prototype.name)}},function(){},function(t){var e=[].indexOf;t.exports=function(t,i){if(e)return t.indexOf(i);for(var o=0;o<t.length;++o)if(t[o]===i)return o;return-1}},function(t,e,i){function o(t,e,i){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},i&&i.query&&(this.query=i.query),this.io.autoConnect&&this.open()}var n=i(7),s=i(8),r=i(38),a=i(39),c=i(40),l=i(3)("socket.io-client:socket"),u=i(30),h=i(24);t.exports=o;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=s.prototype.emit;s(o.prototype),o.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",c(this,"onopen")),a(t,"packet",c(this,"onpacket")),a(t,"close",c(this,"onclose"))]}},o.prototype.open=o.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},o.prototype.send=function(){var t=r(arguments);return t.unshift("message"),this.emit.apply(this,t),this},o.prototype.emit=function(t){if(p.hasOwnProperty(t))return d.apply(this,arguments),this;var e=r(arguments),i={type:(void 0!==this.flags.binary?this.flags.binary:h(e))?n.BINARY_EVENT:n.EVENT,data:e,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this.flags={},this},o.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},o.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?u.encode(this.query):this.query;l("sending connect packet with query %s",t),this.packet({type:n.CONNECT,query:t})}else this.packet({type:n.CONNECT})},o.prototype.onclose=function(t){l("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},o.prototype.onpacket=function(t){var e=t.nsp===this.nsp,i=t.type===n.ERROR&&"/"===t.nsp;if(e||i)switch(t.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(t);break;case n.ACK:case n.BINARY_ACK:this.onack(t);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",t.data)}},o.prototype.onevent=function(t){var e=t.data||[];l("emitting event %j",e),null!=t.id&&(l("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?d.apply(this,e):this.receiveBuffer.push(e)},o.prototype.ack=function(t){var e=this,i=!1;return function(){if(!i){i=!0;var o=r(arguments);l("sending ack %j",o),e.packet({type:h(o)?n.BINARY_ACK:n.ACK,id:t,data:o})}}},o.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(l("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):l("bad ack %s",t.id)},o.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},o.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)d.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},o.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},o.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},o.prototype.close=o.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},o.prototype.compress=function(t){return this.flags.compress=t,this},o.prototype.binary=function(t){return this.flags.binary=t,this}},function(t){t.exports=function(t,e){for(var i=[],o=(e=e||0)||0;o<t.length;o++)i[o-e]=t[o];return i}},function(t){t.exports=function(t,e,i){return t.on(e,i),{destroy:function(){t.removeListener(e,i)}}}},function(t){var e=[].slice;t.exports=function(t,i){if("string"==typeof i&&(i=t[i]),"function"!=typeof i)throw new Error("bind() requires a function");var o=e.call(arguments,2);return function(){return i.apply(t,o.concat(e.call(arguments)))}}},function(t){function e(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=e,e.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),i=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-i:t+i}return 0|Math.min(t,this.max)},e.prototype.reset=function(){this.attempts=0},e.prototype.setMin=function(t){this.ms=t},e.prototype.setMax=function(t){this.max=t},e.prototype.setJitter=function(t){this.jitter=t}}])},"object"==typeof i&&"object"==typeof e?e.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof i?i.io=o():this.io=o()}).call(this,t("buffer").Buffer)},{buffer:2}],EgrManager:[function(t,e,i){"use strict";cc._RF.push(e,"6c5593amdtE7YwIGCxv7U0X","EgrManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0}),i.EgrManager=void 0;var r=cc._decorator,a=r.ccclass,c=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.events_map={},e}var i;return n(e,t),i=e,e.prototype.onLoad=function(){null===i.Instance?i.Instance=this:this.destroy()},e.prototype.add_event_listenner=function(t,e,i){this.events_map[t]||(this.events_map[t]=[]),this.events_map[t].push({caller:e,func:i})},e.prototype.remove_event_listenner=function(t,e,i){if(this.events_map[t]){for(var o=this.events_map[t],n=0;n<o.length;n++){var s=o[n];if(s.caller==e&&s.func==i){o.splice(n,1);break}}o.length<=0&&(this.events_map[t]=null)}},e.prototype.dispatch_event=function(t,e,i){if(void 0===e&&(e=""),this.events_map[t])for(var o=this.events_map[t],n=0;n<o.length;n++){var s=o[n];s.func.call(s.caller,t,e,i)}},e.Instance=null,i=s([a("EgrManager")],e)}(cc.Component));i.EgrManager=c,cc._RF.pop()},{}],FortuneGems:[function(t,e,i){"use strict";cc._RF.push(e,"bef90ujJ/NNP7rkr3DlI50F","FortuneGems");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../common/Common"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.main=null,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.show=function(){this.main.active=!0},e.prototype.hide=function(){this.main.active=!1,this.main.destroy(),r.Common.curShowView=null},s([l(cc.Node)],e.prototype,"main",void 0),s([c],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../common/Common":"Common"}],GradientColor:[function(t,e,i){"use strict";cc._RF.push(e,"88828dJE11I9pC8wcZqxIg1","GradientColor");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,l=r.requireComponent,u=r.disallowMultiple,h=r.executeInEditMode,p=(r.help,r.menu),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._colors=[cc.Color.RED,cc.Color.BLUE,cc.Color.RED,cc.Color.BLUE],e}return n(e,t),Object.defineProperty(e.prototype,"colors",{get:function(){return this._colors},set:function(t){t.length>4&&(t.length=4),this._colors=t,this.markForRender()},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){this.replaceFunction()},e.prototype.onDisable=function(){this.restoreFunction()},e.prototype.resetInEditor=function(){this.markForRender()},e.prototype.replaceFunction=function(){var t=this,e=this.getComponent(cc.RenderComponent);if(e){var i=e._assembler;i instanceof cc.Assembler2D&&(i.updateColor=function(){var e=i._renderData.uintVDatas[0];if(e)for(var o=i.floatsPerVert,n=i.colorOffset,s=t.node.color,r=0,a=n,c=e.length;a<c;a+=o)e[a]=(t.colors[r++]||s)._val},this.markForRender())}},e.prototype.restoreFunction=function(){var t=this.getComponent(cc.RenderComponent);if(t){var e=t._assembler;e instanceof cc.Assembler2D&&(e.updateColor=cc.Assembler2D.prototype.updateColor,this.markForRender())}},e.prototype.markForRender=function(){this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR},s([c()],e.prototype,"_colors",void 0),s([c({type:[cc.Color],tooltip:!1})],e.prototype,"colors",null),s([a,l(cc.RenderComponent),u,h,p("xuhang/\u6e32\u67d3\u7ec4\u4ef6/GradientColor")],e)}(cc.Component);i.default=d,cc._RF.pop()},{}],Intro:[function(t,e,i){"use strict";cc._RF.push(e,"b53b5c2X1xMeaCrkn5dkRVK","Intro");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.view1=null,e.view2=null,e.rightBtn=null,e.leftBtn=null,e.iconNodes=null,e.optionToggle_1=null,e.optionToggle_2=null,e.iconNodes_1=null,e.loadProgressBar=null,e.loadingLabel=null,e.continueBtn=null,e.cyclesCount=0,e.beishu_cyclesCount=0,e}return n(e,t),e.prototype.onLoad=function(){var t=this;cc.debug.setDisplayStats(!1),cc.director.preloadScene("game",function(){cc.log("Next scene preloaded")}),cc.resources.loadDir("atlas",function(e,i){var o=parseFloat((e/i).toFixed(3));t.updateProgress(o)},function(t,e){t?console.error("Failed to preload resources:",t):console.log("Resources preloaded successfully:",e)})},e.prototype.start=function(){this.iconAction(),this.beishuIconAction()},e.prototype.updateProgress=function(t){t>this.loadProgressBar.progress&&(this.loadProgressBar.progress=t,this.loadingLabel.string="Loading..."+Math.floor(100*t)+"%"),t>=1&&this.loadingAction()},e.prototype.iconAction=function(){this.iconNodes.opacity=255;var t=cc.scaleTo(.4,1.2),e=cc.scaleTo(.4,1);e.easing(cc.easeCubicActionInOut()),cc.callFunc(this.onActionFinised,this);var i=cc.sequence(t,e),o=cc.repeatForever(i);this.iconNodes.runAction(o)},e.prototype.onActionFinised=function(){},e.prototype.onBigIconActionFinised=function(){var t=this;this.cyclesCount+=1,this.cyclesCount>=4&&cc.tween(this.iconNodes).to(.5,{opacity:0},{easing:"cubicInOut"}).call(function(){t.cyclesCount=0,t.scheduleOnce(t.iconAction,1)}).start()},e.prototype.beishuIconAction=function(){var t=cc.scaleTo(.6,1.1),e=cc.scaleTo(.6,1);e.easing(cc.easeCubicActionInOut());var i=cc.sequence(t,e),o=cc.repeatForever(i);this.iconNodes_1.runAction(o)},e.prototype.loadingAction=function(){var t=this;this.loadingLabel.string="",cc.tween(this.loadProgressBar.node).to(.5,{scaleY:0},{easing:"cubicInOut"}).call(function(){cc.tween(t.continueBtn.node).to(.5,{scaleY:.61},{easing:"cubicInOut"}).start()}).start()},e.prototype.leftMove=function(){this.optionToggle_1.isChecked=!0,this.optionToggle_2.isChecked=!1,this.rightBtn.node.active=!0,this.leftBtn.node.active=!1,cc.tween(this.view1).to(.5,{position:new cc.Vec3(0,0,0)},{easing:"cubicInOut"}).start(),cc.tween(this.view2).to(.5,{position:new cc.Vec3(348,0,0)},{easing:"cubicInOut"}).start()},e.prototype.rightMove=function(){this.optionToggle_1.isChecked=!1,this.optionToggle_2.isChecked=!0,this.rightBtn.node.active=!1,this.leftBtn.node.active=!0,cc.tween(this.view1).to(.5,{position:new cc.Vec3(-368,0,0)},{easing:"cubicInOut"}).start(),cc.tween(this.view2).to(.5,{position:new cc.Vec3(0,0,0)},{easing:"cubicInOut"}).start()},e.prototype.progressAction=function(){cc.tween(this.loadProgressBar).to(.5,{progress:.9},{easing:cc.easeCubicActionOut}).start()},e.prototype.startGame=function(){cc.director.loadScene("game")},e.prototype.onShowNextTime=function(t){t.isChecked?cc.sys.localStorage.setItem("startScene","game"):cc.sys.localStorage.setItem("startScene","intro")},s([c(cc.Node)],e.prototype,"view1",void 0),s([c(cc.Node)],e.prototype,"view2",void 0),s([c(cc.Button)],e.prototype,"rightBtn",void 0),s([c(cc.Button)],e.prototype,"leftBtn",void 0),s([c(cc.Node)],e.prototype,"iconNodes",void 0),s([c(cc.Toggle)],e.prototype,"optionToggle_1",void 0),s([c(cc.Toggle)],e.prototype,"optionToggle_2",void 0),s([c(cc.Node)],e.prototype,"iconNodes_1",void 0),s([c(cc.ProgressBar)],e.prototype,"loadProgressBar",void 0),s([c(cc.Label)],e.prototype,"loadingLabel",void 0),s([c(cc.Button)],e.prototype,"continueBtn",void 0),s([a],e)}(cc.Component);i.default=l,cc._RF.pop()},{}],ItemDay:[function(t,e,i){"use strict";cc._RF.push(e,"88a76FxsbFOa6BD/LBupCnb","ItemDay");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,l=r.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbDay=null,e.spSel=null,e.index=0,e.day=0,e.cb=null,e}return n(e,t),e.prototype.setDay=function(t,e,i,o){this.index=t,this.day=e,this.cb=o,this.lbDay.string=e.toString(),this.spSel.active=i,this.spSel.active?this.lbDay.node.color=new cc.Color(255,255,255,255):this.lbDay.node.color=new cc.Color(114,112,109,255)},e.prototype.onClickItem=function(){this.cb&&this.cb(this.index,this.day)},s([c(cc.Label)],e.prototype,"lbDay",void 0),s([c(cc.Node)],e.prototype,"spSel",void 0),s([a,l("xuhang/item/ItemDay")],e)}(cc.Component);i.default=u,cc._RF.pop()},{}],NetMgr:[function(t,e,i){"use strict";cc._RF.push(e,"4b8c1tVcE5JHZvJcxa7jY9Z","NetMgr");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0}),i.NetMgr=void 0;var r=t("../../common/Common"),a=cc._decorator,c=a.ccclass,l=(a.property,0),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.url="ws://192.168.1.45:18500",e.sock=null,e.isWhether=!0,e}var i;return n(e,t),i=e,e.prototype.onLoad=function(){null===i.Instance?(i.Instance=this,this.state=l):this.destroy()},e.prototype.sendPing=function(){this.sock&&this.sock.send("pong")},e.prototype._on_opened=function(){this.state=2,console.log("connect to server: "+this.url+"sucess!"),this.isWhether},e.prototype._onLogin=function(){},e.prototype.manualdisconnection=function(){this.isWhether=!1,2===this.state&&null!==this.sock&&this.sock.close(),this.unschedule(this.sendPing)},e.prototype.close_socket=function(){2==this.state&&null!==this.sock&&this.sock.close(),this.state=l,this.unschedule(this.sendPing),r.Common.showTipView("Unable to connect to the network\nTry continuing to connect?",this.backhome.bind(this))},e.prototype.backhome=function(){""!=r.Common.homeUrl?window.location.href=r.Common.homeUrl:location.reload()},e.prototype._on_socket_close=function(){this.close_socket()},e.prototype._on_socket_err=function(){this.close_socket()},e.prototype.login=function(){this.sock&&(this.sock.close(),this.sock=null),this.state=1,this.sock=new WebSocket(this.url+"/?game_id="+r.Common.game_id+"&token="+r.Common.token),this.sock.onopen=this._on_opened.bind(this),this.sock.onmessage=this._onLogin.bind(this),this.sock.onclose=this._on_socket_close.bind(this),this.sock.onerror=this._on_socket_err.bind(this)},e.prototype.onBetting=function(t){var e={type:"bet",data:{bet_amount:t}};this.sock.send(JSON.stringify(e))},e.prototype.onCancelbetting=function(){this.sock.send(JSON.stringify({gametype:"cancelbetting"}))},e.prototype.onCancelbatchbetting=function(t){var e={gametype:"cancelbatchbetting",order:t};this.sock.send(JSON.stringify(e))},e.prototype.onGetAvailableamount=function(){this.sock.send(JSON.stringify({gametype:"getye"}))},e.prototype.onQuery_bettingrecord=function(t,e){var i;void 0===t&&(t=0),void 0===e&&(e=0),i=0!=t?{gametype:"query_bettingrecordlist",startTime:t,endTime:e}:{gametype:"query_bettingrecordlist"},this.sock.send(JSON.stringify(i))},e.prototype.onQuery_bettingrecordById=function(t){var e={gametype:"query_bettingrecordlist",idnumber:t};this.sock.send(JSON.stringify(e))},e.prototype.onQuery_bettingrecordDesic=function(t){var e={gametype:"query_bettingrecord",period:t};this.sock.send(JSON.stringify(e))},e.prototype.onSetlang=function(t){var e={gametype:"setlang",lang:t};this.sock.send(JSON.stringify(e))},e.prototype.onGameParameter=function(){this.sock.send(JSON.stringify({gametype:"query_game_parameter"}))},e.prototype.onBatchbetting=function(t,e,i){var o={gametype:"batchbetting",dragonmoney:t,tigermoney:e,andmoney:i};this.sock.send(JSON.stringify(o))},e.Instance=null,i=s([c("NetMgr")],e)}(cc.Component);i.NetMgr=u,cc._RF.pop()},{"../../common/Common":"Common"}],PromiseUtil:[function(t,e,i){"use strict";cc._RF.push(e,"396aeHGwMZCIILbQOVI+R1w","PromiseUtil"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return t.sleep=function(t){return new Promise(function(e){return cc.Canvas.instance.scheduleOnce(e,t)})},t}();i.default=o,cc._RF.pop()},{}],PromptView:[function(t,e,i){"use strict";cc._RF.push(e,"8e7daK0AVZBYq/IZMzfRiYV","PromptView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../common/Common"),a=cc._decorator,c=a.ccclass,l=a.property,u=a.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.descLabel=null,e}return n(e,t),e.prototype.start=function(){this.descLabel.node.on(cc.Node.EventType.SIZE_CHANGED,this.textHeghtChange,this)},e.prototype.textHeghtChange=function(){this.descLabel.node.height,this.bg.height=this.descLabel.node.height+36},e.prototype.changeDesc=function(t){this.descLabel.string=t},e.prototype.showPromt=function(t){var e=this;this.bg.opacity=255,this.descLabel.string=t,cc.tween(this.bg).to(2,{opacity:0},{easing:"cubicInOut"}).call(function(){e.bg.destroy(),r.Common.curPrompt=null}).start()},s([l(cc.Node)],e.prototype,"bg",void 0),s([l(cc.Label)],e.prototype,"descLabel",void 0),s([c,u("xuhang/\u9884\u5236\u4f53/PromptView")],e)}(cc.Component);i.default=h,cc._RF.pop()},{"../common/Common":"Common"}],ResManager:[function(t,e,i){"use strict";cc._RF.push(e,"54709/XcxlLb4e4826dgWr1","ResManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0}),i.ResManager=void 0;var r=cc._decorator,a=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.loadSound=function(t,e){cc.resources.load("sound/"+t,cc.AudioClip,function(t,i){e(i)})},s([a],e)}(cc.Component));i.ResManager=c,cc._RF.pop()},{}],SocketIOManager:[function(t,e,i){"use strict";cc._RF.push(e,"45a5b0DS25EJb+Emzb5YbMH","SocketIOManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=(r.property,t("socket.io-client/dist/socket.io.js")),l=t("../../common/Common"),u=t("../EgrManager"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.url="ws://13.232.153.67:9502",e}var i;return n(e,t),i=e,e.prototype.onLoad=function(){null===i.Instance?i.Instance=this:this.destroy()},e.prototype.start=function(){},e.prototype.connectToServer=function(){this.socket=c(this.url+"/game?token="+l.Common.token,{transports:["websocket"]}),this.socket.on("connect",this._on_opened.bind(this)),this.socket.on("bet",this._on_Message.bind(this,"bet")),this.socket.on("userinfo",this._on_Message.bind(this,"userinfo")),this.socket.on("bet-history",this._on_Message.bind(this,"bet-history")),this.socket.on("disconnect",this._on_Disconnect.bind(this))},e.prototype._on_opened=function(){this.unschedule(this.showTip),console.log("connect to server: "+this.url+"sucess!")},e.prototype._on_Message=function(t,e){u.EgrManager.Instance.dispatch_event("net_message",t,e)},e.prototype._on_Disconnect=function(){this.schedule(this.showTip,5)},e.prototype.showTip=function(){this.unschedule(this.showTip),l.Common.showTipView("Unable to connect to the network\nTry continuing to connect?",this.backhome.bind(this))},e.prototype.backhome=function(){""!=l.Common.homeUrl?window.location.href=l.Common.homeUrl:location.reload()},e.prototype.onBetting=function(t){var e={amount:t};this.socket.emit("bet",e,function(t){0==t.code&&u.EgrManager.Instance.dispatch_event("bet","",t.data)})},e.prototype.onQuery_bettingrecord=function(t,e,i,o){var n;void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=null),void 0===o&&(o=1),0==t&&(t=(e=Math.floor((new Date).getTime()/1e3))-900),n=i?{page:o,timestamp:[t,e],order_no:i}:{page:o,timestamp:[t,e]},this.socket.emit("bet-history",n,function(t){0==t.code&&u.EgrManager.Instance.dispatch_event("bet-history","",t.data)})},e.Instance=null,i=s([a],e)}(cc.Component);i.default=h,cc._RF.pop()},{"../../common/Common":"Common","../EgrManager":"EgrManager","socket.io-client/dist/socket.io.js":5}],SoundManager:[function(t,e,i){"use strict";cc._RF.push(e,"a5a7aW6NWpH54JwvqmWPJpj","SoundManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0}),i.SoundManager=void 0;var r=t("../common/Common"),a=t("./ResManager"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.playSoundById=function(t,e){void 0===e&&(e=1);var i=this;a.ResManager.loadSound(t,function(o){null!=o?(i.audioSoure.clip=o,0==r.Common.music_switch&&i.audioSoure.play(),i.audioSoure.loop=!1,i.audioSoure.volume=e):console.log("strRes = "+t+" \u97f3\u6548\u52a0\u8f7d\u5931\u8d25...........")})},e.playwildSoundById=function(t,e){void 0===e&&(e=1);var i=this;a.ResManager.loadSound(t,function(o){null!=o?(i.girlSoure.clip=o,0==r.Common.music_switch&&i.girlSoure.play(),i.girlSoure.loop=!1,i.girlSoure.volume=e):console.log("strRes = "+t+" \u97f3\u6548\u52a0\u8f7d\u5931\u8d25...........")})},e.playClickSound=function(t,e){void 0===e&&(e=1);var i=this;a.ResManager.loadSound(t,function(o){null!=o?(i.clickSoure.clip=o,0==r.Common.music_switch&&i.clickSoure.play(),i.clickSoure.loop=!1,i.clickSoure.volume=e):console.log("strRes = "+t+" \u97f3\u6548\u52a0\u8f7d\u5931\u8d25...........")})},e.play=function(t,e){void 0===e&&(e=.5);var i=this;a.ResManager.loadSound(t,function(o){null!=o?(i.musicSoure.clip=o,0==r.Common.music_switch&&i.musicSoure.play(),i.musicSoure.volume=e,i.musicSoure.loop=!0):console.log("strRes = "+t+" \u97f3\u4e50\u52a0\u8f7d\u5931\u8d25...........")})},e.stopSound=function(){this.audioSoure.stop()},e.stop=function(){console.log("\u80cc\u666f\u97f3\u4e50\u505c\u6b62"),this.musicSoure.stop()},e.pause=function(){console.log("\u80cc\u666f\u97f3\u4e50\u6682\u505c"),this.musicSoure.pause()},e.resume=function(){this.musicSoure.play()},s([l("SoundManager")],e)}(cc.Component));i.SoundManager=u,cc._RF.pop()},{"../common/Common":"Common","./ResManager":"ResManager"}],TipView:[function(t,e,i){"use strict";cc._RF.push(e,"c34c31/lqhPtoyxNq4pXKKB","TipView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../common/Common"),a=cc._decorator,c=a.ccclass,l=a.property,u=a.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.main=null,e.mask=null,e.descLabel=null,e}return n(e,t),e.prototype.show=function(t,e){void 0===e&&(e=null),this._callfunc=e,this.mask.active=!0,this.mask.opacity=0,this.main.active=!0,this.main.scale=.5,this.main.opacity=0,this.descLabel.string=t,cc.tween(this.mask).to(.5,{opacity:135}).start(),cc.tween(this.main).to(.5,{scale:1,opacity:255},{easing:"backOut"}).start()},e.prototype.changeDesc=function(t){this.descLabel.string=t},e.prototype.onConfirm=function(){this._callfunc?(this._callfunc.call(),this.hide()):this.hide()},e.prototype.hide=function(){var t=this;cc.tween(this.mask).to(.5,{opacity:0}).start(),cc.tween(this.main).to(.5,{scale:.5,opacity:0},{easing:"backOut"}).call(function(){t.mask.active=!1,t.mask.opacity=0,t.main.active=!1,t.main.scale=.5,t.main.opacity=0,t.main.destroy(),t.mask.destroy(),r.Common.curTipView=null}).start()},e.prototype.reloadView=function(){location.reload()},s([l(cc.Node)],e.prototype,"main",void 0),s([l(cc.Node)],e.prototype,"mask",void 0),s([l(cc.Label)],e.prototype,"descLabel",void 0),s([c,u("xuhang/\u5f39\u7a97\u754c\u9762/TipView")],e)}(cc.Component);i.default=h,cc._RF.pop()},{"../common/Common":"Common"}],WinMoreView:[function(t,e,i){"use strict";cc._RF.push(e,"a110dDxWJNOjoXyzMp1fTzK","WinMoreView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../common/Common"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.favoritesToggle=null,e.favoritesNode=null,e.featuresNode=null,e.featuresToggle=null,e.mask=null,e.main=null,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.show=function(){this.mask.active=!0,this.mask.opacity=0,this.main.active=!0,this.main.scale=.5,this.main.opacity=0,cc.tween(this.mask).to(.5,{opacity:135}).start(),cc.tween(this.main).to(.5,{scale:1,opacity:255},{easing:"backOut"}).start()},e.prototype.hide=function(){var t=this;cc.tween(this.mask).to(.5,{opacity:0}).start(),cc.tween(this.main).to(.5,{scale:.5,opacity:0},{easing:"backOut"}).call(function(){t.mask.active=!1,t.mask.opacity=0,t.main.active=!1,t.main.scale=.5,t.main.opacity=0,t.main.destroy(),t.mask.destroy(),r.Common.curShowView=null}).start()},e.prototype.changeView=function(){this.favoritesNode.active=this.favoritesToggle.isChecked,this.featuresNode.active=this.featuresToggle.isChecked},s([l(cc.Toggle)],e.prototype,"favoritesToggle",void 0),s([l(cc.Node)],e.prototype,"favoritesNode",void 0),s([l(cc.Node)],e.prototype,"featuresNode",void 0),s([l(cc.Toggle)],e.prototype,"featuresToggle",void 0),s([l(cc.Node)],e.prototype,"mask",void 0),s([l(cc.Node)],e.prototype,"main",void 0),s([c],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../common/Common":"Common"}],game:[function(t,e,i){"use strict";cc._RF.push(e,"0771fbqpcxMhYX29NFOqyei","game");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r},r=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))(function(n,s){function r(t){try{c(o.next(t))}catch(e){s(e)}}function a(t){try{c(o.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(r,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var i,o,n,s,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(t){return function(e){return c([t,e])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(n=(n=r.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){r=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){r.label=s[1];break}if(6===s[0]&&r.label<n[1]){r.label=n[1],n=s;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(s);break}n[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(a){s=[6,a],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=t("./common/Common"),l=t("./manager/EgrManager"),u=t("./manager/SoundManager"),h=t("./manager/net/NetMgr"),p=t("./manager/net/SocketIOManager"),d=t("./ui/multipleItem"),m=t("./ui/slotItem"),f=t("./utils/PromiseUtil"),y=cc._decorator,g=y.ccclass,b=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playGame=null,e.bottomNode=null,e.startGameAni=null,e.zhuangpanNode=null,e.bettingLabel=null,e.balanceLabel=null,e.winNumLabel=null,e.lockNode=null,e.lockAni=null,e.lockSolt=null,e.chainAni=null,e.betSetView=null,e.betImage=null,e.titleNode=null,e.select_10=null,e.select_50=null,e.menuBtn=null,e.menuView=null,e.tipLabel=null,e.tipLabel_1=null,e.settingView=null,e.autoBtn=null,e.showViewNode=null,e.showTipNode=null,e.roulettebg_green=null,e.roulettebg_red=null,e.iconBg_green=null,e.iconBg_red=null,e.slotItem=null,e.slotItemNode_1=null,e.slotItemNode_2=null,e.slotItemNode_3=null,e.multipleItem=null,e.multipleItemNode=null,e.turboSpin=null,e.winBg=null,e.bigWinLabel=null,e.bigAwardNode=null,e.symbols_profitLabel=null,e.special_profitLabel=null,e.all_respinEffect=null,e.turnStartAni=null,e.turnEndAni=null,e.turnPlay=null,e.turnPlayEnd=null,e.moneySelectAni=null,e.autoCountLabel=null,e.musicNode=null,e.soundNode=null,e.soundNode1=null,e.soundNode2=null,e.music=null,e.btnEffect=null,e.connectionNode=null,e.orderidLabel=null,e.light_effect=null,e.light_effect1=null,e.money_1=null,e.money_2=null,e.money_3=null,e.money_4=null,e.turnStartParticle=null,e.soltItemReturn1=!1,e.soltItemReturn2=!1,e.soltItemReturn3=!1,e.multipleReturn=!1,e.turnStartAnimation=null,e.turnStartParticleAnimation=null,e.isPlay=!0,e.isRedPlay=!1,e.isShowSettingView=!1,e.isShowBetSetView=!1,e.speed=5,e.betmoney=10,e.tipIndex=1,e.tipRollSpeed=2,e.isAutoBetting=!1,e.isPressing=!1,e.pressTime=0,e.slotItem_1=[],e.slotItem_2=[],e.slotItem_3=[],e.multipleItems=[],e.isRolling=!1,e.isPlayAni=!1,e.isTurnPlay=!1,e.symbols=[],e.special_symbols="",e.lucky={multiplier:0,amount:0},e.order_id="",e.isStartPlay=!0,e.isClickBoard=!1,e.isSpeed=!1,e.isGamePlay=!1,e.isBoxPlay=!0,e.isBoxPlay_1=!0,e.isBoxPlay_2=!0,e.isBoxPlay_3=!0,e.itemBingPosY=-125,e.itemnoBingPosY=-174,e.multiplenoBingoPoxY=-170,e.isAllRespinRoll=!1,e.start1=!0,e.start2=!0,e.start3=!0,e.respinPlay3=!1,e.maxSpeed=-2160,e.timePassed=0,e.bigduration=6,e.isFirstClick=!1,e}return n(e,t),e.prototype.onLoad=function(){var t=this;cc.debug.setDisplayStats(!1),c.Common.showViewNode=this.showViewNode,c.Common.showTipNode=this.showTipNode,u.SoundManager.musicSoure=this.musicNode.getComponent(cc.AudioSource),u.SoundManager.audioSoure=this.soundNode.getComponent(cc.AudioSource),u.SoundManager.girlSoure=this.soundNode1.getComponent(cc.AudioSource),u.SoundManager.clickSoure=this.soundNode2.getComponent(cc.AudioSource),u.SoundManager.play("back"),this.node.addComponent(l.EgrManager),this.node.addComponent(p.default),this.node.addComponent(h.NetMgr);var e=this.getQueryParam(window.location.href,"token"),i=this.getHomeUrlParam(window.location.href,"url"),o=this.getGameIdParam(window.location.href,"game_id");""==o&&null==o||(c.Common.game_id=o),""==e&&null==e||(c.Common.token=e,p.default.Instance.connectToServer()),""==i&&null==i||(c.Common.homeUrl=i),cc.loader.loadRes("atlas/bet",cc.SpriteAtlas,function(e,i){t.betImageAtlas=i,t.updateView()}),this.money_1.stopSystem(),this.money_2.stopSystem(),this.money_3.stopSystem(),this.money_4.stopSystem(),this.winNumLabel.string="\u20b9 0.00",this.rollTips(),this.bottomNode.opacity=0;var n=cc.sys.localStorage.getItem("betmoney");if(null!=n?this.betmoney=Number(n):(this.betmoney=10,cc.sys.localStorage.setItem("betmoney",10)),this.bettingLabel.string="Bet"+c.Common.moneyStr+" "+this.betmoney.toLocaleString(),50==this.betmoney||100==this.betmoney?(c.Common.itemType=["00","0","1","5","10"],c.Common.multipleArr=["x2","x5","x10","all_respin","scatter_100"],c.Common.multipleArrServer=["2","5","10","all_respin","scatter_red"]):10==this.betmoney?(c.Common.itemType=["0","1","5","10"],c.Common.multipleArr=["x2","x5","x10","all_respin","scatter"],c.Common.multipleArrServer=["2","5","10","all_respin","scatter_green"]):5==this.betmoney?(c.Common.itemType=["0","1","5","10"],c.Common.multipleArr=["x2","x5","all_respin","scatter"],c.Common.multipleArrServer=["2","5","all_respin","scatter_green"]):(c.Common.itemType=["0","1","5","10"],c.Common.multipleArr=["x2","x5","all_respin"],c.Common.multipleArrServer=["2","5","all_respin"]),t.initSlotItem(),l.EgrManager.Instance.add_event_listenner("net_message",this,this.onRecvData),l.EgrManager.Instance.add_event_listenner("bet",this,this.onRecvBetData),l.EgrManager.Instance.add_event_listenner("bet-history",this,this.onRecvBetHistoryData),l.EgrManager.Instance.add_event_listenner("AutoStart",this,this.onAutoStart),this.node.on(cc.Node.EventType.TOUCH_END,this.onClick,this),this.menuBtn.node.on(cc.Node.EventType.TOUCH_MOVE,this.menuBtnMoveHandler,this),this.menuBtn.node.on(cc.Node.EventType.TOUCH_END,this.showMenuView,this),this.autoBtn.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.autoBtn.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.autoBtn.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.winNumLabel.node.on("size-changed",this.onLabelSizeChange,this),this.playGame.active=!0,this.btnEffect.setAnimation(0,"animation",!1),this.btnEffect.setCompleteListener(this.btnEffectComplete.bind(this)),"onLine"in navigator&&navigator.onLine&&navigator.connection){var s=navigator.connection;if(s){var r=s.downlink;0<=r&&r<2?(this.connectionNode.getChildByName("info_1").active=!0,this.connectionNode.getChildByName("info_0").active=!1,this.connectionNode.getChildByName("info_2").active=!1,this.connectionNode.getChildByName("info_3").active=!1,this.connectionNode.getChildByName("info_4").active=!1):2<=r&&r<4?(this.connectionNode.getChildByName("info_1").active=!1,this.connectionNode.getChildByName("info_0").active=!1,this.connectionNode.getChildByName("info_2").active=!0,this.connectionNode.getChildByName("info_3").active=!1,this.connectionNode.getChildByName("info_4").active=!1):4<=r&&r<6?(this.connectionNode.getChildByName("info_1").active=!1,this.connectionNode.getChildByName("info_0").active=!1,this.connectionNode.getChildByName("info_2").active=!1,this.connectionNode.getChildByName("info_3").active=!0,this.connectionNode.getChildByName("info_4").active=!1):r>=6&&(this.connectionNode.getChildByName("info_1").active=!1,this.connectionNode.getChildByName("info_0").active=!1,this.connectionNode.getChildByName("info_2").active=!1,this.connectionNode.getChildByName("info_3").active=!1,this.connectionNode.getChildByName("info_4").active=!0),this.schedule(this.updateDownLink,.8)}}},e.prototype.onLabelSizeChange=function(){var t=this;console.log("Label text changed:",this.winNumLabel.string),"\u20b9 0.00"!=this.winNumLabel.string&&cc.tween(this.winNumLabel.node).to(.4,{scale:1.5}).to(.4,{scale:1}).union().call(function(){var e=c.Common.settle_availableamount,i=Number(e),o=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(i);t.balanceLabel.string="<color=#F7CC43>Balance </c><color=#FFFFFF>\u20b9"+o.toLocaleString()+" </color>"}).start()},e.prototype.btnEffectComplete=function(){return r(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,f.default.sleep(4)];case 1:return t.sent(),this.btnEffect.setAnimation(0,"animation",!1),[2]}})})},e.prototype.updateDownLink=function(){if(this.connectionNode.getChildByName("err").active=!1,navigator.onLine){if(navigator.connection){var t=navigator.connection;if(t){var e=t.downlink;0<=e&&e<2?(this.connectionNode.getChildByName("info_1").active=!0,this.connectionNode.getChildByName("info_0").active=!1,this.connectionNode.getChildByName("info_2").active=!1,this.connectionNode.getChildByName("info_3").active=!1,this.connectionNode.getChildByName("info_4").active=!1):2<=e&&e<4?(this.connectionNode.getChildByName("info_1").active=!1,this.connectionNode.getChildByName("info_0").active=!1,this.connectionNode.getChildByName("info_2").active=!0,this.connectionNode.getChildByName("info_3").active=!1,this.connectionNode.getChildByName("info_4").active=!1):4<=e&&e<6?(this.connectionNode.getChildByName("info_1").active=!1,this.connectionNode.getChildByName("info_0").active=!1,this.connectionNode.getChildByName("info_2").active=!1,this.connectionNode.getChildByName("info_3").active=!0,this.connectionNode.getChildByName("info_4").active=!1):e>=6&&(this.connectionNode.getChildByName("info_1").active=!1,this.connectionNode.getChildByName("info_0").active=!1,this.connectionNode.getChildByName("info_2").active=!1,this.connectionNode.getChildByName("info_3").active=!1,this.connectionNode.getChildByName("info_4").active=!0)}}}else this.connectionNode.getChildByName("info_1").active=!1,this.connectionNode.getChildByName("info_0").active=!0,this.connectionNode.getChildByName("info_2").active=!1,this.connectionNode.getChildByName("info_3").active=!1,this.connectionNode.getChildByName("info_4").active=!1,this.connectionNode.getChildByName("err").active=!0},e.prototype.onAutoStart=function(){this.isAutoBetting||(this.isAutoBetting=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!1,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!0,this.isRolling||this.isPlayAni||this.isTurnPlay)||(c.Common.showPrompt("Auto Spin Enabled"),this.autoStartSpin())},e.prototype.onMusicSwitch=function(){0==c.Common.music_switch?(this.music.getChildByName("on").active=!1,this.music.getChildByName("off").active=!0,u.SoundManager.pause(),c.Common.music_switch=1,cc.sys.localStorage.setItem("music_switch",1)):(this.music.getChildByName("on").active=!0,this.music.getChildByName("off").active=!1,u.SoundManager.resume(),c.Common.music_switch=0,cc.sys.localStorage.setItem("music_switch",0))},e.prototype.onClick=function(){this.hideBetSetView(),this.hideSettingView()},e.prototype.updateView=function(){1==this.betmoney?(this.lockZhuangpan(!0),this.replaceSpriteFrame("bet1"),this.updeteTitleTip("bet1","bet5"),this.titleNode.getChildByName("mask").y=-10,this.select_10.active=!0,this.select_50.active=!1,this.roulettebg_green.active=!0,this.roulettebg_red.active=!1,this.iconBg_green.active=!0,this.iconBg_red.active=!1,this.lockSlot(!0),c.Common.turntableItemmMoney=[1e3,100,25,500,75,150,50,250]):5==this.betmoney?(this.lockZhuangpan(!1),this.replaceSpriteFrame("bet5"),this.updeteTitleTip("bet5","bet10"),this.titleNode.getChildByName("mask").y=-10,this.select_10.active=!0,this.select_50.active=!1,this.roulettebg_green.active=!0,this.roulettebg_red.active=!1,this.iconBg_green.active=!0,this.iconBg_red.active=!1,this.lockSlot(!1),c.Common.turntableItemmMoney=[1e3,100,25,500,75,150,50,250]):10==this.betmoney?(this.lockZhuangpan(!1),this.replaceSpriteFrame("bet10"),this.updeteTitleTip("bet10","bet50"),this.titleNode.getChildByName("mask").y=-10,this.select_10.active=!0,this.select_50.active=!1,this.roulettebg_green.active=!0,this.roulettebg_red.active=!1,this.iconBg_green.active=!0,this.iconBg_red.active=!1,this.lockSlot(!1),c.Common.turntableItemmMoney=[2e3,200,50,1e3,150,300,100,500]):50==this.betmoney?(this.lockZhuangpan(!1),this.replaceSpriteFrame("bet50"),this.updeteTitleTip("bet10","bet50"),this.titleNode.getChildByName("mask").y=-41,this.select_10.active=!1,this.select_50.active=!0,this.roulettebg_green.active=!1,this.roulettebg_red.active=!0,this.iconBg_green.active=!1,this.iconBg_red.active=!0,this.lockSlot(!1),c.Common.turntableItemmMoney=[5e4,2e3,500,25e3,1500,5e3,1e3,1e4]):100==this.betmoney&&(this.lockZhuangpan(!1),this.replaceSpriteFrame("bet100"),this.updeteTitleTip("bet10","bet50"),this.titleNode.getChildByName("mask").y=-41,this.select_10.active=!1,this.select_50.active=!0,this.roulettebg_green.active=!1,this.roulettebg_red.active=!0,this.iconBg_green.active=!1,this.iconBg_red.active=!0,this.lockSlot(!1),c.Common.turntableItemmMoney=[1e5,5e3,1e3,5e4,3e3,1e4,2e3,2e4])},e.prototype.onTurboSpin=function(){var t=this.turboSpin.isChecked?"Turbo Spin Enabled":"Turbo Spin Disabled";c.Common.showPrompt(t)},e.prototype.onRecvBetHistoryData=function(t,e,i){return r(this,void 0,void 0,function(){var t,e,o;return a(this,function(n){switch(n.label){case 0:for(c.Common.recordArr=[],t=0;t<i.data.length;t++)e=i.data[t].content,o={id:0,money:e.amount,mprofit:e.net_profit,profit:e.profit,result:e.symbols,time:i.data[t].updated_at,special:e.is_extra_bet,pumping:e.pumping,orderid:i.data[t].order_no,special_symbols:e.special_symbols,winningResults:e.winning_lines,special_profit:e.special_profit},c.Common.recordArr.push(o);return[4,f.default.sleep(1)];case 1:return n.sent(),l.EgrManager.Instance.dispatch_event("showRecordView","",1),[2]}})})},e.prototype.onRecvBetData=function(t,e,i){return r(this,void 0,void 0,function(){return a(this,function(){return this.symbols=i.symbols,i.special_symbols?this.special_symbols=i.special_symbols:this.special_symbols=null,this.profit=i.profit,this.symbols_profit=i.symbols_profit,this.special_profit=i.special_profit,this.lucky.amount=i.lucky.amount,i.order_on?this.order_id=i.order_on.toString():this.order_id="",[2]})})},e.prototype.onRecvData=function(t,e,i){return r(this,void 0,void 0,function(){var t,o,n,s,r,u;return a(this,function(a){switch(a.label){case 0:return"bet"!=e?[3,1]:i.code&&503==i.code?(c.Common.showTipView(i.message),this.isRolling=!1,this.isGamePlay=!1,this.isBoxPlay=!1,this.isBoxPlay_1=!1,this.isBoxPlay_2=!1,this.isBoxPlay_3=!1,[2]):i.code&&2500==i.code?(c.Common.showTipView(i.message),this.isRolling=!1,this.isGamePlay=!1,this.isBoxPlay=!1,this.isBoxPlay_1=!1,this.isBoxPlay_2=!1,this.isBoxPlay_3=!1,[2]):(this.symbols=i.symbols,i.special_symbols?this.special_symbols=i.special_symbols:this.special_symbols=null,this.profit=i.profit,this.symbols_profit=i.symbols_profit,this.special_profit=i.special_profit,this.lucky.amount=i.lucky.amount,i.order_on?this.order_id=i.order_on.toString():this.order_id="",[3,4]);case 1:return"userinfo"!=e?[3,2]:("first"==i.event||"bet"==i.event?i.balance?(c.Common.availableamount=i.balance,t=c.Common.availableamount,o=Number(t),n=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o),this.balanceLabel.string="<color=#F7CC43>Balance </c><color=#FFFFFF>\u20b9"+n.toLocaleString()+" </color>"):(c.Common.availableamount=0,this.balanceLabel.string="<color=#F7CC43>Balance </c><color=#FFFFFF>\u20b9 0.00 </color>"):"settle"==i.event&&i.balance&&(c.Common.settle_availableamount=i.balance),i.identity?c.Common.userid=i.identity:c.Common.userid="",[3,4]);case 2:if("bet-history"!=e)return[3,4];for(console.log(i),c.Common.recordArr=[],s=0;s<i.data.length;s++)r=i.data[s].content,u={id:0,money:r.amount,mprofit:r.net_profit,profit:r.profit,result:r.symbols,time:i.data[s].updated_at,special:r.is_extra_bet,pumping:r.pumping,orderid:i.data[s].order_no,special_symbols:r.special_symbols,winningResults:r.winning_lines,special_profit:r.special_profit},c.Common.recordArr.push(u);return[4,f.default.sleep(1)];case 3:a.sent(),l.EgrManager.Instance.dispatch_event("showRecordView","",1),a.label=4;case 4:return[2]}})})},e.prototype.getQueryParam=function(t,e){t=t||window.location.href,e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t.split("#")[0]);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},e.prototype.getHomeUrlParam=function(t,e){t=t||window.location.href,e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\&&]"+e+"=([^&#]*)").exec(t.split("#")[0]);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},e.prototype.getGameIdParam=function(t,e){t=t||window.location.href,e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\&&]"+e+"=([^&#]*)").exec(t.split("#")[0]);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},e.prototype.onPlay=function(){cc.tween(this.bottomNode).to(.5,{opacity:255},{easing:"sineIn"}).start(),this.playGame.active=!1,u.SoundManager.playwildSoundById("start_1"),u.SoundManager.playSoundById("into"),this.startGameAni.node.active=!0,this.startGameAni.setAnimation(0,"open1",!1),this.startGameAni.setCompleteListener(this.startGameAniComplete.bind(this)),this.schedule(this.playStartGameAni,5)},e.prototype.playStartGameAni=function(){this.isRolling||this.isPlayAni||this.isTurnPlay||this.startGameAni.node.active||(this.startGameAni.node.active=!0,this.startGameAni.setAnimation(0,"open3",!1))},e.prototype.startGameAniComplete=function(){return r(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return"open1"!=this.startGameAni.animation?[3,1]:(this.startGameAni.setAnimation(0,"open3",!1),this.isStartPlay=!1,[3,3]);case 1:return"open3"!=this.startGameAni.animation?[3,3]:[4,f.default.sleep(2)];case 2:t.sent(),this.startGameAni.setAnimation(0,"open3",!1),t.label=3;case 3:return[2]}})})},e.prototype.initSlotItem=function(){for(var t=0;t<5;t++){var e=Math.floor(Math.random()*c.Common.itemType.length);(o=(i=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[e]),i.setPosition(0,0),this.slotItemNode_1.addChild(i),this.slotItemNode_1.setPosition(-136,this.itemnoBingPosY),this.slotItem_1.push(o)}for(t=0;t<5;t++)e=Math.floor(Math.random()*c.Common.itemType.length),(o=(i=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[e]),i.setPosition(0,0),this.slotItemNode_2.addChild(i),this.slotItemNode_2.setPosition(-48,this.itemnoBingPosY),this.slotItem_2.push(o);for(t=0;t<5;t++)e=Math.floor(Math.random()*c.Common.itemType.length),(o=(i=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[e]),i.setPosition(0,0),this.slotItemNode_3.addChild(i),this.slotItemNode_3.setPosition(38,this.itemnoBingPosY),this.slotItem_3.push(o);for(t=0;t<5;t++){var i,o;e=Math.floor(Math.random()*c.Common.multipleArr.length),(o=(i=cc.instantiate(this.multipleItem)).getComponent(d.default)).initView(c.Common.multipleArr[e]),i.setPosition(0,0),this.multipleItemNode.addChild(i),this.multipleItemNode.setPosition(136,this.itemnoBingPosY)}},e.prototype.onTouchStart=function(){this.isPressing=!0,this.schedule(this.checkLongPress,1)},e.prototype.onTouchCancel=function(){this.isPressing=!1,this.unschedule(this.checkLongPress),this.pressTime=0},e.prototype.onTouchEnd=function(){this.isPressing=!1,this.unschedule(this.checkLongPress);var t="";if(this.pressTime<1){if(this.isAutoBetting)this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.isAutoBetting=!1,c.Common.totalSpinNumber=-1,this.autoCountLabel.string="",t="Auto Spin Disabled",c.Common.showPrompt(t);else{if(this.isRolling)return;if(this.isPlayAni)return;if(this.isTurnPlay)return;if(this.isStartPlay)return;this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!1,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!0,this.isAutoBetting=!0,c.Common.totalSpinNumber=-1,t="Auto Spin Enabled",c.Common.showPrompt(t)}this.isAutoBetting&&this.autoStartSpin()}this.pressTime=0},e.prototype.checkLongPress=function(){this.isPressing&&(this.pressTime+=1,this.pressTime>=1&&(this.unschedule(this.checkLongPress),this.isPressing=!1,this.isAutoBetting||this.isPlayAni||this.isTurnPlay||this.showAutoSpinView()))},e.prototype.rollTips=function(){var t=this,e=this;1==this.tipIndex?this.tipLabel.string="Tap to autoPlay":2==this.tipIndex&&(this.tipLabel.string="Hold for setting"),1==this.tipIndex||2==this.tipIndex?cc.tween(this.tipLabel.node).to(this.tipRollSpeed,{opacity:210}).to(this.tipRollSpeed,{opacity:0}).call(function(){return r(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return e.tipIndex+=1,[4,f.default.sleep(1)];case 1:return t.sent(),this.rollTips(),[2]}})})}).start():cc.tween(this.tipLabel_1.node).to(this.tipRollSpeed,{opacity:210}).to(this.tipRollSpeed,{opacity:0}).call(function(){return r(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return e.tipIndex+=1,4==e.tipIndex&&(e.tipIndex=1),[4,f.default.sleep(1)];case 1:return t.sent(),this.rollTips(),[2]}})})}).start()},e.prototype.menuBtnMoveHandler=function(t){var e=this.menuBtn.node.parent.convertToNodeSpaceAR(t.currentTouch._point);this.menuBtn.node.y=e.y,this.menuBtn.node.y>389&&(this.menuBtn.node.y=389),this.menuBtn.node.y<-389&&(this.menuBtn.node.y=-389)},e.prototype.showMenuView=function(){var t=this;cc.tween(this.menuBtn.node).to(.2,{scaleX:0}).call(function(){cc.tween(t.menuView).to(.2,{x:-195}).start()}).start()},e.prototype.hideMenuView=function(){var t=this;cc.tween(this.menuView).to(.2,{x:-296}).call(function(){cc.tween(t.menuBtn.node).to(.2,{scaleX:.6}).start()}).start()},e.prototype.boardStartSpin=function(){return r(this,void 0,void 0,function(){var t,e;return a(this,function(i){switch(i.label){case 0:return this.onClick(null),this.betmoney>c.Common.availableamount?(c.Common.showTipView("Not enough balance"),[2]):this.isStartPlay?[2]:this.isPlayAni?[2]:this.isAutoBetting?[2]:this.isRolling?[2]:this.isTurnPlay?(t=this,this.isTurnPlay=!1,this.isPlayAni=!0,this.turnTween&&this.turnTween.stop(),u.SoundManager.playSoundById("endTurn"),e=4*this.maxSpeed+c.Common.turntableItemRotation[c.Common.turntableItemmMoney.indexOf(this.lucky.amount)],console.log(c.Common.turntableItemmMoney.indexOf(this.lucky.amount),e),this.zhuangpanNode.angle=e,this.turnPlayEnd.node.active=!0,this.turnPlayEnd.node.angle=-e,this.turnPlayEnd.setAnimation(0,"greenredwin2",!0),"scatter_green"==t.special_symbols?t.turnPlay.setAnimation(0,"greenredwin1",!0):"scatter_red"==t.special_symbols&&t.turnPlay.setAnimation(0,"dajiangwin1",!0),t.special_profitLabel.string=t.special_profit.toFixed(2),this.winNumLabel.string="\u20b9 "+t.profit.toFixed(2),[4,f.default.sleep(.5)]):[3,5];case 1:return i.sent(),t.profit/t.betmoney>9?(this.showWinAni(t.profit/t.betmoney),[3,4]):[3,2];case 2:return t.isPlayAni=!1,u.SoundManager.play("back"),t.isTurnPlay=!1,[4,f.default.sleep(.5)];case 3:i.sent(),this.isAutoBetting&&!this.isPlayAni?this.autoStartSpin():this.isAutoBetting||(this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""),i.label=4;case 4:return[2];case 5:return this.isAutoBetting?[2]:(this.isClickBoard?this.startSpin(!1):(this.isClickBoard=!0,c.Common.showTipView('Click the board for SPIN/STOP.\n Press "Confirm" to spin.',this.startSpin.bind(this,!1))),[2])}})})},e.prototype.autoStartSpin=function(){if(this.onClick(null),this.betmoney>c.Common.availableamount)return c.Common.showTipView("Not enough balance"),void(this.isAutoBetting&&(this.isAutoBetting=!1,this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""));this.isRolling||this.isStartPlay||(c.Common.totalSpinNumber>0?(c.Common.totalSpinNumber-=1,c.Common.totalSpinNumber<=0?this.autoCountLabel.string="":this.autoCountLabel.string=c.Common.totalSpinNumber+""):this.autoCountLabel.string="",this.isSpeed=!1,this.startGameAni.node.active=!1,this.turnPlay.node.active=!1,this.turnPlayEnd.node.active=!1,this.titleNode.active=!0,this.bigAwardNode.active=!1,this.bigAwardNode.scaleY=0,this.special_profitLabel.string="0.00",this.winNumLabel.string="\u20b9 0.00",this.isPlay=!0,this.symbols=[],this.slotItem_1=[],this.slotItem_2=[],this.slotItem_3=[],this.multipleItems=[],this.isRolling=!0,this.isGamePlay=!0,this.isBoxPlay=!0,this.isBoxPlay_1=!0,this.isBoxPlay_2=!0,this.isBoxPlay_3=!0,this.soltItemReturn1=this.soltItemReturn2=this.soltItemReturn3=this.multipleReturn=!1,p.default.Instance.onBetting(this.betmoney))},e.prototype.startSpin=function(t){return void 0===t&&(t=!0),r(this,void 0,void 0,function(){var e,i,o=this;return a(this,function(n){switch(n.label){case 0:return e=this,this.onClick(null),cc.director.getScheduler().isScheduled(this.updateBigCount,this)&&this.isPlayAni&&this.winAni.node.active&&!this.isFirstClick?(u.SoundManager.stopSound(),u.SoundManager.playSoundById("win_end"),this.money_1.stopSystem(),this.money_2.stopSystem(),this.money_3.stopSystem(),this.money_4.stopSystem(),this.isFirstClick=!0,this.unschedule(this.updateBigCount),"bigwin1"==this.winAni.animation?this.winAni.setAnimation(0,"bigwin2",!0):"megawin1"==this.winAni.animation?this.winAni.setAnimation(0,"megawin2",!0):"supperwin1"==this.winAni.animation&&this.winAni.setAnimation(0,"supperwin2",!0),this.currentNumber=this.targetNumber,this.updateBigNumber(),[4,f.default.sleep(1)]):[3,2];case 1:return n.sent(),cc.tween(this.winAni.node).to(.3,{scale:0}).call(function(){return r(o,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return u.SoundManager.resume(),this.bigWinLabel.string="0",this.winBg.active=!1,this.winAni.node.active=!1,this.isPlayAni=!1,this.isFirstClick=!1,[4,f.default.sleep(.5)];case 1:return t.sent(),this.isAutoBetting&&!this.isPlayAni?this.autoStartSpin():this.isAutoBetting||(this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""),[2]}})})}).start(),[2];case 2:return u.SoundManager.playClickSound("startspin"),this.betmoney>c.Common.availableamount?(c.Common.showTipView("Not enough balance"),[2]):this.isPlayAni?[2]:this.isStartPlay?[2]:this.isTurnPlay?(this.isTurnPlay=!1,this.isPlayAni=!0,this.turnTween&&(this.turnTween.stop(),this.turnTween=null),u.SoundManager.playSoundById("endTurn"),i=4*this.maxSpeed+c.Common.turntableItemRotation[c.Common.turntableItemmMoney.indexOf(this.lucky.amount)],console.log(c.Common.turntableItemmMoney.indexOf(this.lucky.amount),i),this.zhuangpanNode.angle=i,this.turnPlayEnd.node.active=!0,this.turnPlayEnd.node.angle=-i,this.turnPlayEnd.setAnimation(0,"greenredwin2",!0),"scatter_green"==e.special_symbols?e.turnPlay.setAnimation(0,"greenredwin1",!0):"scatter_red"==e.special_symbols&&e.turnPlay.setAnimation(0,"dajiangwin1",!0),e.special_profitLabel.string=e.special_profit.toFixed(2),this.winNumLabel.string="\u20b9 "+e.profit.toFixed(2),[4,f.default.sleep(.5)]):[3,7];case 3:return n.sent(),e.profit/e.betmoney>9?(this.showWinAni(e.profit/e.betmoney),[3,6]):[3,4];case 4:return u.SoundManager.play("back"),e.isPlayAni=!1,e.isTurnPlay=!1,[4,f.default.sleep(.5)];case 5:n.sent(),this.isAutoBetting&&!this.isPlayAni?this.autoStartSpin():this.isAutoBetting||(this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""),n.label=6;case 6:return[2];case 7:return this.isRolling&&t?(this.isSpeed||(this.isSpeed=!0),[2]):this.isAutoBetting?[2]:(this.isSpeed=!1,this.startGameAni.node.active=!1,this.turnPlay.node.active=!1,this.turnPlayEnd.node.active=!1,this.titleNode.active=!0,this.bigAwardNode.active=!1,this.bigAwardNode.scaleY=0,this.special_profitLabel.string="0.00",this.winNumLabel.string="\u20b9 0.00",this.isPlay=!0,this.symbols=[],this.slotItem_1=[],this.slotItem_2=[],this.slotItem_3=[],this.multipleItems=[],this.isRolling=!0,this.isGamePlay=!0,this.isBoxPlay=!0,this.isBoxPlay_1=!0,this.isBoxPlay_2=!0,this.isBoxPlay_3=!0,this.soltItemReturn1=this.soltItemReturn2=this.soltItemReturn3=this.multipleReturn=!1,p.default.Instance.onBetting(this.betmoney),[2])}})})},e.prototype.update=function(t){var e=this;if(1==this.isPlay){var i=this.zhuangpanNode.angle-this.speed*t;this.zhuangpanNode.angle=i}if(this.isGamePlay){var o=this.slotItemNode_1.position,n=this.slotItemNode_2.position,s=this.slotItemNode_3.position,l=this.multipleItemNode.position,h=1250*t,p=this.lockSolt.active?-2e3:-2250,y=this.lockSolt.active?-1750:-2e3,g=this;if(this.isBoxPlay){var b=this;if(0!=this.symbols.length)if(this.turboSpin.isChecked||this.isSpeed){this.isBoxPlay=!1,this.isGamePlay=!1,this.slotItemNode_1.removeAllChildren();for(var v=0;v<5;v++){var _=void 0;_=2==v&&null!=this.symbols[0].lines[0]?c.Common.itemType.indexOf(this.symbols[0].lines[0]):Math.floor(Math.random()*c.Common.itemType.length),(N=(C=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[_]),2==v&&null!=this.symbols[0].lines[0]&&this.slotItem_1.push(N),C.setPosition(0,0),this.slotItemNode_1.addChild(C)}null!=this.symbols[0].lines[0]?(this.slotItemNode_1.setPosition(-136,-115),cc.tween(this.slotItemNode_1).to(.2,{position:new cc.Vec3(-136,this.itemBingPosY)},{easing:"backOut"}).call(function(){return r(e,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.orderidLabel.string="Transaction "+this.order_id,u.SoundManager.playwildSoundById("roll_end"),0==c.Common.totalSpinNumber&&(this.isAutoBetting=!1),0!=this.profit&&0!=c.Common.stopwinBalanceNumber&&c.Common.stopwinBalanceNumber<=c.Common.availableamount&&(this.isAutoBetting=!1),0!=this.betmoney&&0==this.profit&&0!=c.Common.stopLoseBalanceNumber&&c.Common.stopLoseBalanceNumber>=c.Common.availableamount&&(this.isAutoBetting=!1),b.isRolling=!1,b.isPlayAni=!0,this.multipleReturn||this.soltItemReturn2||this.soltItemReturn3?[4,f.default.sleep(.5)]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.multipleReturn&&(this.multipleItemNode.setPosition(136,-115),cc.tween(this.multipleItemNode).to(.2,{position:new cc.Vec3(136,this.itemBingPosY)},{easing:"sineIn"}).call(function(){"2"!=b.special_symbols&&"5"!=b.special_symbols&&"10"!=b.special_symbols||u.SoundManager.playSoundById("beishu_"+b.special_symbols)}).start()),this.soltItemReturn2&&(this.slotItemNode_2.setPosition(-48,-115),cc.tween(this.slotItemNode_2).to(.2,{position:new cc.Vec3(-48,this.itemBingPosY)},{easing:"backOut"}).start()),this.soltItemReturn3&&(this.slotItemNode_3.setPosition(38,-115),cc.tween(this.slotItemNode_3).to(.2,{position:new cc.Vec3(38,this.itemBingPosY)},{easing:"backOut"}).start()),(this.soltItemReturn2||this.soltItemReturn3)&&u.SoundManager.playSoundById("huizhuan"),[4,f.default.sleep(.1)];case 3:return t.sent(),"0"!=b.symbols[0].lines[0]&&"00"!=b.symbols[0].lines[0]?(u.SoundManager.playwildSoundById("bingo"),b.slotItem_1[0].setRunAction(),0!=b.slotItem_2.length&&b.slotItem_2[0].setRunAction(),0!=b.slotItem_3.length&&b.slotItem_3[0].setRunAction(),0!=b.multipleItems.length&&b.multipleItems[0].setRunAction()):(b.slotItem_2[0]&&"0"!=b.symbols[0].lines[1]&&"00"!=b.symbols[0].lines[1]?(u.SoundManager.playwildSoundById("bingo"),b.slotItem_2[0].setRunAction(),0!=b.slotItem_3.length&&b.slotItem_3[0].setRunAction()):b.slotItem_3[0]&&"0"!=b.symbols[0].lines[2]&&"00"!=b.symbols[0].lines[2]&&(u.SoundManager.playwildSoundById("bingo"),b.slotItem_3[0].setRunAction()),b.multipleItems[0]&&0!=b.multipleItems.length&&b.multipleItems[0].setRunAction()),b.profit>0?"all_respin"!=b.special_symbols&&"scatter_green"!=b.special_symbols&&"scatter_red"!=b.special_symbols?[3,4]:(b.updateSpecialsymbols(b.special_symbols),[3,8]):[3,9];case 4:return this.winNumLabel.string="\u20b9 "+b.profit.toFixed(2),b.profit/b.betmoney>9?[4,f.default.sleep(.5)]:[3,6];case 5:return t.sent(),b.showWinAni(b.profit/b.betmoney),[3,8];case 6:return[4,f.default.sleep(1.5)];case 7:t.sent(),this.isPlayAni=!1,this.isAutoBetting?this.autoStartSpin():this.isAutoBetting||(this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""),t.label=8;case 8:return[3,15];case 9:return 0!=b.multipleItems.length&&b.multipleItems[0].setRunAction(),"all_respin"!=b.special_symbols&&"scatter_green"!=b.special_symbols&&"scatter_red"!=b.special_symbols?[3,10]:(b.updateSpecialsymbols(b.special_symbols),[3,15]);case 10:return this.winNumLabel.string="\u20b9 "+b.profit.toFixed(2),b.profit/b.betmoney>9?[4,f.default.sleep(.5)]:[3,12];case 11:return t.sent(),this.showWinAni(b.profit/b.betmoney),[3,15];case 12:return b.isPlayAni=!1,this.isAutoBetting?[4,f.default.sleep(.3)]:[3,14];case 13:return t.sent(),this.autoStartSpin(),[3,15];case 14:this.isAutoBetting||(this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""),t.label=15;case 15:return[2]}})})}).start()):(this.slotItemNode_1.setPosition(-136,-164),cc.tween(this.slotItemNode_1).to(.2,{position:new cc.Vec3(-136,this.itemnoBingPosY)},{easing:"backOut"}).call(function(){return r(e,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.orderidLabel.string="Transaction "+this.order_id,u.SoundManager.playwildSoundById("roll_null"),0==c.Common.totalSpinNumber&&(this.isAutoBetting=!1),0!=this.profit&&0!=c.Common.stopwinBalanceNumber&&c.Common.stopwinBalanceNumber<=c.Common.availableamount&&(this.isAutoBetting=!1),0!=this.betmoney&&0==this.profit&&0!=c.Common.stopLoseBalanceNumber&&c.Common.stopLoseBalanceNumber>=c.Common.availableamount&&(this.isAutoBetting=!1),b.isRolling=!1,b.isPlayAni=!0,this.multipleReturn||this.soltItemReturn2||this.soltItemReturn3?[4,f.default.sleep(.5)]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.multipleReturn&&(this.multipleItemNode.setPosition(136,-115),cc.tween(this.multipleItemNode).to(.2,{position:new cc.Vec3(136,this.itemBingPosY)},{easing:"sineIn"}).call(function(){"2"!=b.special_symbols&&"5"!=b.special_symbols&&"10"!=b.special_symbols||u.SoundManager.playSoundById("beishu_"+b.special_symbols)}).start()),this.soltItemReturn2&&(this.slotItemNode_2.setPosition(-48,-115),cc.tween(this.slotItemNode_2).to(.2,{position:new cc.Vec3(-48,this.itemBingPosY)},{easing:"backOut"}).start()),this.soltItemReturn3&&(this.slotItemNode_3.setPosition(38,-115),cc.tween(this.slotItemNode_3).to(.2,{position:new cc.Vec3(38,this.itemBingPosY)},{easing:"backOut"}).start()),(this.soltItemReturn2||this.soltItemReturn3)&&u.SoundManager.playSoundById("huizhuan"),b.profit>0?(b.slotItem_2[0]&&"0"!=b.symbols[0].lines[1]&&"00"!=b.symbols[0].lines[1]?(u.SoundManager.playwildSoundById("bingo"),b.slotItem_2[0].setRunAction(),0!=b.slotItem_3.length&&b.slotItem_3[0].setRunAction()):b.slotItem_3[0]&&"0"!=b.symbols[0].lines[2]&&"00"!=b.symbols[0].lines[2]&&(u.SoundManager.playwildSoundById("bingo"),b.slotItem_3[0].setRunAction()),0!=b.multipleItems.length&&b.multipleItems[0].setRunAction(),"all_respin"!=b.special_symbols&&"scatter_green"!=b.special_symbols&&"scatter_red"!=b.special_symbols?[3,3]:(b.updateSpecialsymbols(b.special_symbols),[3,7])):[3,8];case 3:return this.winNumLabel.string="\u20b9 "+b.profit.toFixed(2),b.profit/b.betmoney>9?[4,f.default.sleep(.5)]:[3,5];case 4:return t.sent(),this.showWinAni(b.profit/b.betmoney),[3,7];case 5:return[4,f.default.sleep(1.5)];case 6:t.sent(),b.isPlayAni=!1,this.isAutoBetting?this.autoStartSpin():this.isAutoBetting||(this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""),t.label=7;case 7:return[3,14];case 8:return 0!=b.multipleItems.length&&b.multipleItems[0].setRunAction(),"all_respin"!=b.special_symbols&&"scatter_green"!=b.special_symbols&&"scatter_red"!=b.special_symbols?[3,9]:(b.updateSpecialsymbols(b.special_symbols),[3,14]);case 9:return this.winNumLabel.string="\u20b9 "+b.profit.toFixed(2),b.profit/b.betmoney>9?[4,f.default.sleep(.5)]:[3,11];case 10:return t.sent(),this.showWinAni(b.profit/b.betmoney),[3,14];case 11:return b.isPlayAni=!1,this.isAutoBetting?[4,f.default.sleep(.3)]:[3,13];case 12:return t.sent(),this.autoStartSpin(),[3,14];case 13:this.isAutoBetting||(this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""),t.label=14;case 14:return[2]}})})}).start())}else if(o.y-h<p){for(this.isBoxPlay=!1,this.isGamePlay=!1,this.slotItemNode_1.removeAllChildren(),v=0;v<5;v++)_=void 0,_=2==v&&null!=this.symbols[0].lines[0]?c.Common.itemType.indexOf(this.symbols[0].lines[0]):Math.floor(Math.random()*c.Common.itemType.length),(N=(C=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[_]),2==v&&null!=this.symbols[0].lines[0]&&this.slotItem_1.push(N),C.setPosition(0,0),this.slotItemNode_1.addChild(C);null!=this.symbols[0].lines[0]?(this.slotItemNode_1.setPosition(-136,-115),cc.tween(this.slotItemNode_1).to(.2,{position:new cc.Vec3(-136,this.itemBingPosY)},{easing:"backOut"}).call(function(){return r(e,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.orderidLabel.string="Transaction "+this.order_id,u.SoundManager.playwildSoundById("roll_end"),0==c.Common.totalSpinNumber&&(this.isAutoBetting=!1),0!=this.profit&&0!=c.Common.stopwinBalanceNumber&&c.Common.stopwinBalanceNumber<=c.Common.availableamount&&(this.isAutoBetting=!1),0!=this.betmoney&&0==this.profit&&0!=c.Common.stopLoseBalanceNumber&&c.Common.stopLoseBalanceNumber>=c.Common.availableamount&&(this.isAutoBetting=!1),b.isRolling=!1,b.isPlayAni=!0,this.multipleReturn||this.soltItemReturn2||this.soltItemReturn3?[4,f.default.sleep(.5)]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.multipleReturn&&(this.multipleItemNode.setPosition(136,-115),cc.tween(this.multipleItemNode).to(.2,{position:new cc.Vec3(136,this.itemBingPosY)},{easing:"sineIn"}).call(function(){"2"!=b.special_symbols&&"5"!=b.special_symbols&&"10"!=b.special_symbols||u.SoundManager.playSoundById("beishu_"+b.special_symbols)}).start()),this.soltItemReturn2&&(this.slotItemNode_2.setPosition(-48,-115),cc.tween(this.slotItemNode_2).to(.2,{position:new cc.Vec3(-48,this.itemBingPosY)},{easing:"backOut"}).start()),this.soltItemReturn3&&(this.slotItemNode_3.setPosition(38,-115),cc.tween(this.slotItemNode_3).to(.2,{position:new cc.Vec3(38,this.itemBingPosY)},{easing:"backOut"}).start()),(this.soltItemReturn2||this.soltItemReturn3)&&u.SoundManager.playSoundById("huizhuan"),"0"!=b.symbols[0].lines[0]&&"00"!=b.symbols[0].lines[0]?(u.SoundManager.playwildSoundById("bingo"),b.slotItem_1[0].setRunAction(),0!=b.slotItem_2.length&&b.slotItem_2[0].setRunAction(),0!=b.slotItem_3.length&&b.slotItem_3[0].setRunAction(),0!=b.multipleItems.length&&b.multipleItems[0].setRunAction()):(b.slotItem_2[0]&&"0"!=b.symbols[0].lines[1]&&"00"!=b.symbols[0].lines[1]?(u.SoundManager.playwildSoundById("bingo"),b.slotItem_2[0].setRunAction(),0!=b.slotItem_3.length&&b.slotItem_3[0].setRunAction()):b.slotItem_3[0]&&"0"!=b.symbols[0].lines[2]&&"00"!=b.symbols[0].lines[2]&&(u.SoundManager.playwildSoundById("bingo"),b.slotItem_3[0].setRunAction()),b.multipleItems[0]&&0!=b.multipleItems.length&&b.multipleItems[0].setRunAction()),"all_respin"!=b.special_symbols&&"scatter_green"!=b.special_symbols&&"scatter_red"!=b.special_symbols?[3,3]:(b.updateSpecialsymbols(b.special_symbols),[3,8]);case 3:return this.winNumLabel.string="\u20b9 "+b.profit.toFixed(2),b.profit/b.betmoney>9?[4,f.default.sleep(.5)]:[3,5];case 4:return t.sent(),b.showWinAni(b.profit/b.betmoney),[3,8];case 5:return b.profit>0?[4,f.default.sleep(1.5)]:[3,7];case 6:t.sent(),t.label=7;case 7:this.isPlayAni=!1,this.isAutoBetting?this.autoStartSpin():this.isAutoBetting||(this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""),t.label=8;case 8:return[2]}})})}).start()):(this.slotItemNode_1.setPosition(-136,-164),cc.tween(this.slotItemNode_1).to(.2,{position:new cc.Vec3(-136,this.itemnoBingPosY)},{easing:"backOut"}).call(function(){return r(e,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.orderidLabel.string="Transaction "+this.order_id,u.SoundManager.playwildSoundById("roll_null"),0==c.Common.totalSpinNumber&&(this.isAutoBetting=!1),0!=this.profit&&0!=c.Common.stopwinBalanceNumber&&c.Common.stopwinBalanceNumber<=c.Common.availableamount&&(this.isAutoBetting=!1),0!=this.betmoney&&0==this.profit&&0!=c.Common.stopLoseBalanceNumber&&c.Common.stopLoseBalanceNumber>=c.Common.availableamount&&(this.isAutoBetting=!1),b.isRolling=!1,b.isPlayAni=!0,this.multipleReturn||this.soltItemReturn2||this.soltItemReturn3?[4,f.default.sleep(.5)]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.multipleReturn&&(this.multipleItemNode.setPosition(136,-115),cc.tween(this.multipleItemNode).to(.2,{position:new cc.Vec3(136,this.itemBingPosY)},{easing:"sineIn"}).call(function(){"2"!=b.special_symbols&&"5"!=b.special_symbols&&"10"!=b.special_symbols||u.SoundManager.playSoundById("beishu_"+b.special_symbols)}).start()),this.soltItemReturn2&&(this.slotItemNode_2.setPosition(-48,-115),cc.tween(this.slotItemNode_2).to(.2,{position:new cc.Vec3(-48,this.itemBingPosY)},{easing:"backOut"}).start()),this.soltItemReturn3&&(this.slotItemNode_3.setPosition(38,-115),cc.tween(this.slotItemNode_3).to(.2,{position:new cc.Vec3(38,this.itemBingPosY)},{easing:"backOut"}).start()),(this.soltItemReturn2||this.soltItemReturn3)&&u.SoundManager.playSoundById("huizhuan"),b.profit>0?(b.slotItem_2[0]&&"0"!=b.symbols[0].lines[1]&&"00"!=b.symbols[0].lines[1]?(u.SoundManager.playwildSoundById("bingo"),b.slotItem_2[0].setRunAction(),0!=b.slotItem_3.length&&b.slotItem_3[0].setRunAction()):b.slotItem_3[0]&&"0"!=b.symbols[0].lines[2]&&"00"!=b.symbols[0].lines[2]&&(u.SoundManager.playwildSoundById("bingo"),b.slotItem_3[0].setRunAction()),0!=b.multipleItems.length&&b.multipleItems[0].setRunAction(),"all_respin"!=b.special_symbols&&"scatter_green"!=b.special_symbols&&"scatter_red"!=b.special_symbols?[3,3]:(b.updateSpecialsymbols(b.special_symbols),[3,7])):[3,8];case 3:return this.winNumLabel.string="\u20b9 "+b.profit.toFixed(2),b.profit/b.betmoney>9?[4,f.default.sleep(.5)]:[3,5];case 4:return t.sent(),this.showWinAni(b.profit/b.betmoney),[3,7];case 5:return[4,f.default.sleep(1.5)];case 6:t.sent(),this.isPlayAni=!1,this.isAutoBetting?this.autoStartSpin():this.isAutoBetting||(this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""),t.label=7;case 7:return[3,12];case 8:return 0!=b.multipleItems.length&&b.multipleItems[0].setRunAction(),"all_respin"!=b.special_symbols&&"scatter_green"!=b.special_symbols&&"scatter_red"!=b.special_symbols?[3,9]:(b.updateSpecialsymbols(b.special_symbols),[3,12]);case 9:return this.winNumLabel.string="\u20b9 "+b.profit.toFixed(2),b.profit/b.betmoney>9?[4,f.default.sleep(.5)]:[3,11];case 10:return t.sent(),this.showWinAni(b.profit/b.betmoney),[3,12];case 11:this.isPlayAni=!1,this.isAutoBetting?this.autoStartSpin():this.isAutoBetting||(this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""),t.label=12;case 12:return[2]}})})}).start())}else _=Math.floor(Math.random()*c.Common.itemType.length),(N=(C=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[_]),C.setPosition(0,0),this.slotItemNode_1.addChild(C),this.slotItemNode_1.setPosition(-136,this.slotItemNode_1.y-h);else _=Math.floor(Math.random()*c.Common.itemType.length),(N=(C=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[_]),C.setPosition(0,0),this.slotItemNode_1.addChild(C),this.slotItemNode_1.setPosition(-136,this.slotItemNode_1.y-h)}if(this.isBoxPlay_1)if(0!=this.symbols.length)if(this.turboSpin.isChecked||this.isSpeed){for(this.isBoxPlay_1=!1,this.slotItemNode_2.removeAllChildren(),v=0;v<5;v++)_=void 0,_=2==v&&null!=this.symbols[0].lines[1]?c.Common.itemType.indexOf(this.symbols[0].lines[1]):Math.floor(Math.random()*c.Common.itemType.length),(N=(C=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[_]),null!=this.symbols[0].lines[1]&&2==v&&this.slotItem_2.push(N),C.setPosition(0,0),this.slotItemNode_2.addChild(C);null!=this.symbols[0].lines[1]?(this.soltItemReturn2=Math.floor(100*Math.random())<10&&this.profit>0,this.soltItemReturn2?(this.slotItemNode_2.setPosition(-48,-74),cc.tween(this.slotItemNode_2).to(.2,{position:new cc.Vec3(-48,-84)},{easing:"backOut"}).call(function(){u.SoundManager.playwildSoundById("roll_null")}).start()):(this.slotItemNode_2.setPosition(-48,-115),cc.tween(this.slotItemNode_2).to(.2,{position:new cc.Vec3(-48,this.itemBingPosY)},{easing:"backOut"}).call(function(){u.SoundManager.playwildSoundById("roll_end")}).start())):(this.slotItemNode_2.setPosition(-48,-164),cc.tween(this.slotItemNode_2).to(.2,{position:new cc.Vec3(-48,this.itemnoBingPosY)},{easing:"backOut"}).call(function(){u.SoundManager.playwildSoundById("roll_null")}).start())}else if(n.y-h<y){for(this.isBoxPlay_1=!1,this.slotItemNode_2.removeAllChildren(),v=0;v<5;v++)_=void 0,_=2==v&&null!=this.symbols[0].lines[1]?c.Common.itemType.indexOf(this.symbols[0].lines[1]):Math.floor(Math.random()*c.Common.itemType.length),(N=(C=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[_]),null!=this.symbols[0].lines[1]&&2==v&&this.slotItem_2.push(N),C.setPosition(0,0),this.slotItemNode_2.addChild(C);null!=this.symbols[0].lines[1]?(this.soltItemReturn2=Math.floor(100*Math.random())<10&&this.profit>0,this.soltItemReturn2?(this.slotItemNode_2.setPosition(-48,-74),cc.tween(this.slotItemNode_2).to(.2,{position:new cc.Vec3(-48,-84)},{easing:"backOut"}).call(function(){u.SoundManager.playwildSoundById("roll_null")}).start()):(this.slotItemNode_2.setPosition(-48,-115),cc.tween(this.slotItemNode_2).to(.2,{position:new cc.Vec3(-48,this.itemBingPosY)},{easing:"backOut"}).call(function(){u.SoundManager.playwildSoundById("roll_end")}).start())):(this.slotItemNode_2.setPosition(-48,-164),cc.tween(this.slotItemNode_2).to(.2,{position:new cc.Vec3(-48,this.itemnoBingPosY)},{easing:"backOut"}).call(function(){u.SoundManager.playwildSoundById("roll_null")}).start())}else _=Math.floor(Math.random()*c.Common.itemType.length),(N=(C=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[_]),C.setPosition(0,0),this.slotItemNode_2.addChild(C),this.slotItemNode_2.setPosition(-48,this.slotItemNode_2.y-h);else _=Math.floor(Math.random()*c.Common.itemType.length),(N=(C=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[_]),C.setPosition(0,0),this.slotItemNode_2.addChild(C),this.slotItemNode_2.setPosition(-48,this.slotItemNode_2.y-h);if(this.isBoxPlay_2&&!this.lockSolt.active)if(0!=this.symbols.length)if(this.turboSpin.isChecked||this.isSpeed){for(this.isBoxPlay_2=!1,this.slotItemNode_3.removeAllChildren(),v=0;v<5;v++)_=void 0,_=2==v&&null!=this.symbols[0].lines[2]?c.Common.itemType.indexOf(this.symbols[0].lines[2]):Math.floor(Math.random()*c.Common.itemType.length),(N=(C=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[_]),null!=this.symbols[0].lines[2]&&2==v&&this.slotItem_3.push(N),C.setPosition(0,0),this.slotItemNode_3.addChild(C);null!=this.symbols[0].lines[2]?(this.soltItemReturn3=Math.floor(100*Math.random())<10&&this.profit>0,this.soltItemReturn3?(this.slotItemNode_3.setPosition(38,-74),cc.tween(this.slotItemNode_3).to(.2,{position:new cc.Vec3(38,-84)},{easing:"backOut"}).call(function(){u.SoundManager.playwildSoundById("roll_null")}).start()):(this.slotItemNode_3.setPosition(38,-115),cc.tween(this.slotItemNode_3).to(.2,{position:new cc.Vec3(38,this.itemBingPosY)},{easing:"backOut"}).call(function(){u.SoundManager.playwildSoundById("roll_end")}).start())):(this.slotItemNode_3.setPosition(38,-164),cc.tween(this.slotItemNode_3).to(.2,{position:new cc.Vec3(38,this.itemnoBingPosY)},{easing:"backOut"}).call(function(){u.SoundManager.playwildSoundById("roll_null")}).start())}else if(s.y-h<-1750){for(this.isBoxPlay_2=!1,this.slotItemNode_3.removeAllChildren(),v=0;v<5;v++)_=void 0,_=2==v&&null!=this.symbols[0].lines[2]?c.Common.itemType.indexOf(this.symbols[0].lines[2]):Math.floor(Math.random()*c.Common.itemType.length),(N=(C=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[_]),null!=this.symbols[0].lines[2]&&2==v&&this.slotItem_3.push(N),C.setPosition(0,0),this.slotItemNode_3.addChild(C);null!=this.symbols[0].lines[2]?(this.soltItemReturn3=Math.floor(100*Math.random())<10&&this.profit>0,this.soltItemReturn3?(this.slotItemNode_3.setPosition(38,-74),cc.tween(this.slotItemNode_3).to(.2,{position:new cc.Vec3(38,-84)},{easing:"backOut"}).call(function(){u.SoundManager.playwildSoundById("roll_null")}).start()):(this.slotItemNode_3.setPosition(38,-115),cc.tween(this.slotItemNode_3).to(.2,{position:new cc.Vec3(38,this.itemBingPosY)},{easing:"backOut"}).call(function(){u.SoundManager.playwildSoundById("roll_end")}).start())):(this.slotItemNode_3.setPosition(38,-164),cc.tween(this.slotItemNode_3).to(.2,{position:new cc.Vec3(38,this.itemnoBingPosY)},{easing:"backOut"}).call(function(){u.SoundManager.playwildSoundById("roll_null")}).start())}else _=Math.floor(Math.random()*c.Common.itemType.length),(N=(C=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[_]),C.setPosition(0,0),this.slotItemNode_3.addChild(C),this.slotItemNode_3.setPosition(38,this.slotItemNode_3.y-h);else _=Math.floor(Math.random()*c.Common.itemType.length),(N=(C=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[_]),C.setPosition(0,0),this.slotItemNode_3.addChild(C),this.slotItemNode_3.setPosition(38,this.slotItemNode_3.y-h);if(this.isBoxPlay_3)if(0!=this.symbols.length)if(this.turboSpin.isChecked||this.isSpeed){for(this.isBoxPlay_3=!1,this.multipleItemNode.removeAllChildren(),v=0;v<5;v++){var w=void 0;w=2==v&&null!=this.special_symbols?c.Common.multipleArr[c.Common.multipleArrServer.indexOf(this.special_symbols)]:c.Common.multipleArr[Math.floor(Math.random()*c.Common.multipleArr.length)],(N=(C=cc.instantiate(this.multipleItem)).getComponent(d.default)).initView(w),C.setPosition(0,0),2==v&&null!=this.special_symbols&&this.multipleItems.push(N),this.multipleItemNode.addChild(C)}null!=this.special_symbols?(this.multipleReturn=Math.floor(100*Math.random())<10&&this.profit>0,this.multipleReturn?(this.multipleItemNode.setPosition(136,-74),cc.tween(this.multipleItemNode).to(.2,{position:new cc.Vec3(136,-84)},{easing:"backOut"}).start()):(this.multipleItemNode.setPosition(136,-115),cc.tween(this.multipleItemNode).to(.2,{position:new cc.Vec3(136,this.itemBingPosY)},{easing:"backOut"}).call(function(){"2"!=g.special_symbols&&"5"!=g.special_symbols&&"10"!=g.special_symbols||u.SoundManager.playSoundById("beishu_"+g.special_symbols)}).start())):(this.multipleItemNode.setPosition(136,-160),cc.tween(this.multipleItemNode).to(.2,{position:new cc.Vec3(136,-170)},{easing:"backOut"}).start())}else if(l.y-h<-1500){for(this.isBoxPlay_3=!1,this.multipleItemNode.removeAllChildren(),v=0;v<5;v++)w=void 0,w=2==v&&null!=this.special_symbols?c.Common.multipleArr[c.Common.multipleArrServer.indexOf(this.special_symbols)]:c.Common.multipleArr[Math.floor(Math.random()*c.Common.multipleArr.length)],(N=(C=cc.instantiate(this.multipleItem)).getComponent(d.default)).initView(w),C.setPosition(0,0),2==v&&null!=this.special_symbols&&this.multipleItems.push(N),this.multipleItemNode.addChild(C);null!=this.special_symbols?(this.multipleReturn=Math.floor(100*Math.random())<10&&this.profit>0,this.multipleReturn?(this.multipleItemNode.setPosition(136,-74),cc.tween(this.multipleItemNode).to(.2,{position:new cc.Vec3(136,-84)},{easing:"backOut"}).start()):(this.multipleItemNode.setPosition(136,-115),cc.tween(this.multipleItemNode).to(.2,{position:new cc.Vec3(136,this.itemBingPosY)},{easing:"backOut"}).call(function(){"2"!=g.special_symbols&&"5"!=g.special_symbols&&"10"!=g.special_symbols||u.SoundManager.playSoundById("beishu_"+g.special_symbols)}).start())):(this.multipleItemNode.setPosition(136,-160),cc.tween(this.multipleItemNode).to(.2,{position:new cc.Vec3(136,-170)},{easing:"backOut"}).start())}else _=Math.floor(Math.random()*c.Common.multipleArr.length),(N=(C=cc.instantiate(this.multipleItem)).getComponent(d.default)).initView(c.Common.multipleArr[_]),C.setPosition(0,0),this.multipleItemNode.addChild(C),this.multipleItemNode.setPosition(136,this.multipleItemNode.y-h);else{var C,N;_=Math.floor(Math.random()*c.Common.multipleArr.length),(N=(C=cc.instantiate(this.multipleItem)).getComponent(d.default)).initView(c.Common.multipleArr[_]),C.setPosition(0,0),this.multipleItemNode.addChild(C),this.multipleItemNode.setPosition(136,this.multipleItemNode.y-h)}}},e.prototype.runEffect=function(){return r(this,void 0,void 0,function(){var t=this;return a(this,function(e){switch(e.label){case 0:return 1==this.betmoney||5==this.betmoney||10==this.betmoney?cc.tween(this.select_10).to(.9,{opacity:255},{easing:"sineOut"}).start():cc.tween(this.select_50).to(.9,{opacity:255},{easing:"sineOut"}).start(),cc.tween(this.light_effect).to(.25,{opacity:255,scale:.5},{easing:"sineOut"}).to(.4,{opacity:0,scale:0},{easing:"sineIn"}).union().start(),[4,f.default.sleep(.2)];case 1:return e.sent(),this.light_effect1.active=!0,cc.tween(this.light_effect1).to(.4,{opacity:0,height:0,width:300},{easing:"sineOut"}).call(function(){t.light_effect1.active=!1,t.light_effect1.opacity=255,t.light_effect1.width=42,t.light_effect1.height=42}).start(),[2]}})})},e.prototype.onSeletcBetMoney=function(t,e){this.betmoney=Number(e),this.bettingLabel.string="Bet"+c.Common.moneyStr+" "+this.betmoney.toLocaleString(),this.slotItem_1=[],this.slotItem_2=[],this.slotItem_3=[],this.multipleItems=[],this.slotItemNode_1.removeAllChildren(),this.slotItemNode_2.removeAllChildren(),this.slotItemNode_3.removeAllChildren(),this.multipleItemNode.removeAllChildren(),this.isPlay=!0,this.turnPlay.node.active=!1,this.turnPlayEnd.node.active=!1,this.titleNode.active=!0,this.bigAwardNode.active=!1,this.bigAwardNode.scaleY=0,this.special_profitLabel.string="0.00",this.select_10.opacity=0,this.select_50.opacity=0,this.select_10.active=!0,this.select_50.active=!0,1==this.betmoney?(this.light_effect.y=this.light_effect1.y=-41,this.runEffect(),this.lockZhuangpan(!0),this.replaceSpriteFrame("bet1"),this.updeteTitleTip("bet1","bet5"),this.titleNode.getChildByName("mask").y=-10,this.roulettebg_green.active=!0,this.roulettebg_red.active=!1,this.iconBg_green.active=!0,this.iconBg_red.active=!1,this.lockSlot(!0),c.Common.turntableItemmMoney=[1e3,100,25,500,75,150,50,250]):5==this.betmoney?(this.light_effect.y=this.light_effect1.y=-41,this.runEffect(),this.lockZhuangpan(!1),this.replaceSpriteFrame("bet5"),this.updeteTitleTip("bet5","bet10"),this.titleNode.getChildByName("mask").y=-10,this.roulettebg_green.active=!0,this.roulettebg_red.active=!1,this.iconBg_green.active=!0,this.iconBg_red.active=!1,this.lockSlot(!1),c.Common.turntableItemmMoney=[1e3,100,25,500,75,150,50,250]):10==this.betmoney?(this.light_effect.y=this.light_effect1.y=-41,this.runEffect(),u.SoundManager.playSoundById("seletc_100"),this.moneySelectAni.node.active=!0,this.moneySelectAni.setAnimation(0,"besqiehuan",!1),this.lockZhuangpan(!1),this.replaceSpriteFrame("bet10"),this.updeteTitleTip("bet10","bet50"),this.titleNode.getChildByName("mask").y=-10,this.roulettebg_green.active=!0,this.roulettebg_red.active=!1,this.iconBg_green.active=!0,this.iconBg_red.active=!1,this.lockSlot(!1),c.Common.turntableItemmMoney=[2e3,200,50,1e3,150,300,100,500]):50==this.betmoney?(this.light_effect.y=this.light_effect1.y=-12,this.runEffect(),u.SoundManager.playSoundById("seletc_100"),this.moneySelectAni.node.active=!0,this.moneySelectAni.setAnimation(0,"besqiehuan",!1),this.lockZhuangpan(!1),this.replaceSpriteFrame("bet50"),this.updeteTitleTip("bet10","bet50"),this.titleNode.getChildByName("mask").y=-41,this.roulettebg_green.active=!1,this.roulettebg_red.active=!0,this.iconBg_green.active=!1,this.iconBg_red.active=!0,this.lockSlot(!1),c.Common.turntableItemmMoney=[5e4,2e3,500,25e3,1500,5e3,1e3,1e4]):100==this.betmoney&&(this.light_effect.y=this.light_effect1.y=-12,this.runEffect(),u.SoundManager.playSoundById("seletc_100"),this.moneySelectAni.node.active=!0,this.moneySelectAni.setAnimation(0,"besqiehuan",!1),this.lockZhuangpan(!1),this.replaceSpriteFrame("bet100"),this.updeteTitleTip("bet10","bet50"),this.titleNode.getChildByName("mask").y=-41,this.roulettebg_green.active=!1,this.roulettebg_red.active=!0,this.iconBg_green.active=!1,this.iconBg_red.active=!0,this.lockSlot(!1),c.Common.turntableItemmMoney=[1e5,5e3,1e3,5e4,3e3,1e4,2e3,2e4]),50==this.betmoney||100==this.betmoney?(c.Common.itemType=["00","0","1","5","10"],c.Common.multipleArr=["x2","x5","x10","all_respin","scatter_100"],c.Common.multipleArrServer=["2","5","10","all_respin","scatter_red"]):10==this.betmoney?(c.Common.itemType=["0","1","5","10"],c.Common.multipleArr=["x2","x5","x10","all_respin","scatter"],c.Common.multipleArrServer=["2","5","10","all_respin","scatter_green"]):5==this.betmoney?(c.Common.itemType=["0","1","5","10"],c.Common.multipleArr=["x2","x5","all_respin","scatter"],c.Common.multipleArrServer=["2","5","all_respin","scatter_green"]):(c.Common.itemType=["0","1","5","10"],c.Common.multipleArr=["x2","x5","all_respin"],c.Common.multipleArrServer=["2","5","all_respin"]),this.initSlotItem(),this.hideBetSetView(),cc.sys.localStorage.setItem("betmoney",this.betmoney)},e.prototype.lockZhuangpan=function(t){return void 0===t&&(t=!0),r(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return this.lockNode.active=t,t?(this.chainAni.node.active=!0,this.chainAni.setAnimation(0,"jiasuo",!1),[3,3]):[3,1];case 1:return this.chainAni.node.active?(this.chainAni.setAnimation(0,"jiesuo",!1),[4,f.default.sleep(.5)]):[3,3];case 2:e.sent(),this.chainAni.node.active=!1,e.label=3;case 3:return[2]}})})},e.prototype.lockSlot=function(t){return void 0===t&&(t=!0),r(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return t?(this.lockSolt.active=!0,this.lockAni.node.active=!0,this.lockAni.setAnimation(0,"openlock",!1),[4,f.default.sleep(.5)]):[3,2];case 1:return e.sent(),u.SoundManager.playSoundById("lock"),[3,6];case 2:return this.lockAni.node.active?(this.lockAni.setAnimation(0,"closlock",!1),[4,f.default.sleep(.5)]):[3,5];case 3:return e.sent(),u.SoundManager.playwildSoundById("unlock"),u.SoundManager.playSoundById("unlock_1"),[4,f.default.sleep(.5)];case 4:e.sent(),this.lockAni.node.active=!1,e.label=5;case 5:this.lockSolt.active=!1,e.label=6;case 6:return[2]}})})},e.prototype.replaceSpriteFrame=function(t){var e=this;cc.tween(this.betImage).to(.2,{opacity:0}).call(function(){var i=e.betImageAtlas.getSpriteFrame(t);e.betImage.getComponent(cc.Sprite).spriteFrame=i}).to(.2,{opacity:255}).start()},e.prototype.updeteTitleTip=function(t,e){this.titleNode.getChildByName("bet1").active=!1,this.titleNode.getChildByName("bet5").active=!1,this.titleNode.getChildByName("bet10").active=!1,this.titleNode.getChildByName("bet50").active=!1,this.titleNode.getChildByName(t).active=!0,this.titleNode.getChildByName(e).active=!0,"bet1"==t?(this.titleNode.getChildByName(t).y=-29,this.titleNode.getChildByName(e).y=4):"bet5"==t?(this.titleNode.getChildByName(t).y=-29,this.titleNode.getChildByName(e).y=3):"bet10"!=t&&"bet50"!=t||(this.titleNode.getChildByName(t).y=-29,this.titleNode.getChildByName(e).y=1)},e.prototype.allRespinRoll=function(t){var e=this;if(this.isAllRespinRoll){this.slotItemNode_1.position,this.slotItemNode_2.position,this.slotItemNode_3.position,this.multipleItemNode.position;var i=1800*t,o=(this.lockSolt.active,this.lockSolt.active,this);if(this.start1){var n=Math.floor(Math.random()*c.Common.itemType.length);(h=(l=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[n]),l.setPosition(0,0),this.slotItemNode_1.addChild(l),this.slotItemNode_1.setPosition(-136,this.slotItemNode_1.y-i)}else{this.isAllRespinRoll=!1,this.unschedule(this.allRespinRoll),this.slotItemNode_1.removeAllChildren();for(var s=0;s<5;s++)n=void 0,n=2==s&&null!=this.symbols[1].lines[0]?c.Common.itemType.indexOf(this.symbols[1].lines[0]):Math.floor(Math.random()*c.Common.itemType.length),(h=(l=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[n]),2==s&&null!=this.symbols[1].lines[0]&&this.slotItem_1.push(h),l.setPosition(0,0),this.slotItemNode_1.addChild(l);null!=this.symbols[1].lines[0]?(this.slotItemNode_1.setPosition(-136,-115),cc.tween(this.slotItemNode_1).to(.2,{position:new cc.Vec3(-136,this.itemBingPosY)},{easing:"backOut"}).call(function(){return r(e,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return u.SoundManager.playwildSoundById("roll_end"),o.special_profitLabel.string=o.special_profit.toFixed(2),"0"!=o.symbols[1].lines[0]&&"00"!=o.symbols[1].lines[0]?(o.slotItem_1[0].setRunAction(),0!=o.slotItem_2.length&&o.slotItem_2[0].setRunAction(),0!=o.slotItem_3.length&&o.slotItem_3[0].setRunAction()):(o.slotItem_2[0]&&"0"!=o.symbols[1].lines[1]&&"00"!=o.symbols[1].lines[1]?(o.slotItem_2[0].setRunAction(),0!=o.slotItem_3.length&&o.slotItem_3[0].setRunAction()):o.slotItem_3[0]&&"0"!=o.symbols[1].lines[2]&&"00"!=o.symbols[1].lines[2]&&o.slotItem_3[0].setRunAction(),o.multipleItems[0]&&0!=o.multipleItems.length&&o.multipleItems[0].setRunAction()),this.winNumLabel.string="\u20b9 "+o.profit.toFixed(2),o.profit/o.betmoney>9?[4,f.default.sleep(.5)]:[3,2];case 1:return t.sent(),o.showWinAni(o.profit/o.betmoney),[3,4];case 2:return[4,f.default.sleep(1.5)];case 3:t.sent(),o.isPlayAni=!1,this.isAutoBetting&&!this.isPlayAni?this.autoStartSpin():this.isAutoBetting||(this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""),t.label=4;case 4:return[2]}})})}).start()):(this.slotItemNode_1.setPosition(-136,-164),cc.tween(this.slotItemNode_1).to(.2,{position:new cc.Vec3(-136,this.itemnoBingPosY)},{easing:"backOut"}).call(function(){return r(e,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return u.SoundManager.playwildSoundById("roll_null"),o.special_profitLabel.string=o.special_profit.toFixed(2),o.profit>0?(o.slotItem_2[0]&&"0"!=o.symbols[1].lines[1]&&"00"!=o.symbols[1].lines[1]?(o.slotItem_2[0].setRunAction(),0!=o.slotItem_3.length&&o.slotItem_3[0].setRunAction()):o.slotItem_3[0]&&"0"!=o.symbols[1].lines[2]&&"00"!=o.symbols[1].lines[2]&&o.slotItem_3[0].setRunAction(),this.winNumLabel.string="\u20b9 "+o.profit.toFixed(2),o.profit/o.betmoney>9?[4,f.default.sleep(.5)]:[3,2]):[3,5];case 1:return t.sent(),this.showWinAni(o.profit/o.betmoney),[3,4];case 2:return[4,f.default.sleep(1.5)];case 3:t.sent(),o.isPlayAni=!1,this.isAutoBetting&&!this.isPlayAni?this.autoStartSpin():this.isAutoBetting||(this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""),t.label=4;case 4:return[3,7];case 5:return[4,f.default.sleep(.5)];case 6:t.sent(),o.isPlayAni=!1,this.isAutoBetting&&!this.isPlayAni?this.autoStartSpin():this.isAutoBetting||(this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""),t.label=7;case 7:return[2]}})})}).start())}if(this.start2)n=Math.floor(Math.random()*c.Common.itemType.length),(h=(l=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[n]),l.setPosition(0,0),this.slotItemNode_2.addChild(l),this.slotItemNode_2.setPosition(-48,this.slotItemNode_2.y-i);else{for(this.slotItemNode_2.removeAllChildren(),s=0;s<5;s++)n=void 0,n=2==s&&null!=this.symbols[1].lines[1]?c.Common.itemType.indexOf(this.symbols[1].lines[1]):Math.floor(Math.random()*c.Common.itemType.length),(h=(l=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[n]),null!=this.symbols[1].lines[1]&&2==s&&this.slotItem_2.push(h),l.setPosition(0,0),this.slotItemNode_2.addChild(l);null!=this.symbols[1].lines[1]?(this.slotItemNode_2.setPosition(-48,-115),cc.tween(this.slotItemNode_2).to(.2,{position:new cc.Vec3(-48,this.itemBingPosY)},{easing:"backOut"}).call(function(){u.SoundManager.playwildSoundById("roll_end")}).start()):(this.slotItemNode_2.setPosition(-48,-164),cc.tween(this.slotItemNode_2).to(.2,{position:new cc.Vec3(-48,this.itemnoBingPosY)},{easing:"backOut"}).call(function(){u.SoundManager.playwildSoundById("roll_null")}).start())}if(this.start3&&!this.lockSolt.active)n=Math.floor(Math.random()*c.Common.itemType.length),(h=(l=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[n]),l.setPosition(0,0),this.slotItemNode_3.addChild(l),this.slotItemNode_3.setPosition(38,this.slotItemNode_3.y-i);else if(this.respinPlay3&&!this.lockSolt.active){for(this.respinPlay3=!1,this.slotItemNode_3.removeAllChildren(),s=0;s<5;s++){var l,h;n=void 0,n=2==s&&null!=this.symbols[1].lines[2]?c.Common.itemType.indexOf(this.symbols[1].lines[2]):Math.floor(Math.random()*c.Common.itemType.length),(h=(l=cc.instantiate(this.slotItem)).getComponent(m.default)).initView(c.Common.itemType[n]),null!=this.symbols[1].lines[2]&&2==s&&this.slotItem_3.push(h),l.setPosition(0,0),this.slotItemNode_3.addChild(l)}null!=this.symbols[1].lines[2]?(this.slotItemNode_3.setPosition(38,-115),cc.tween(this.slotItemNode_3).to(.2,{position:new cc.Vec3(38,this.itemBingPosY)},{easing:"backOut"}).call(function(){u.SoundManager.playwildSoundById("roll_end")}).start()):(this.slotItemNode_3.setPosition(38,-164),cc.tween(this.slotItemNode_3).to(.2,{position:new cc.Vec3(38,this.itemnoBingPosY)},{easing:"backOut"}).call(function(){u.SoundManager.playwildSoundById("roll_null")}).start())}}},e.prototype.updateSpecialsymbols=function(t){return r(this,void 0,void 0,function(){var e;return a(this,function(i){switch(i.label){case 0:return this.titleNode.active=!1,this.bigAwardNode.active=!0,this.symbols_profitLabel.string=this.symbols_profit.toFixed(2),cc.tween(this.bigAwardNode).to(.2,{scaleY:1}).start(),e=this,"all_respin"!=t?[3,3]:(u.SoundManager.playSoundById("luck_respin1"),this.bigAwardNode.getChildByName("blue_bg").active=!0,this.bigAwardNode.getChildByName("green_bg").active=!1,this.bigAwardNode.getChildByName("red_bg").active=!1,this.bigAwardNode.getChildByName("respin").active=!0,this.bigAwardNode.getChildByName("scatter").active=!1,this.bigAwardNode.getChildByName("supperscatter").active=!1,[4,f.default.sleep(.5)]);case 1:return i.sent(),this.all_respinEffect.node.active=!0,this.lockSolt.active?e.profit/this.betmoney>=50?this.all_respinEffect.setAnimation(0,"allwin4",!1):this.all_respinEffect.setAnimation(0,"allwin3",!1):e.profit/this.betmoney>=50?this.all_respinEffect.setAnimation(0,"allwin2",!1):this.all_respinEffect.setAnimation(0,"allwin",!1),this.all_respinEffect.setEventListener(function(t,i){"shot1"==i.data.name?e.start3=!1:"shot2"==i.data.name&&(e.start2=!1,e.start1=!1),console.log("\u52a8\u753b\u4e8b\u4ef6\uff1a"+i.data.name+", \u53c2\u6570\uff1a"+i.stringValue)}),this.slotItem_1=[],this.slotItem_2=[],this.slotItem_3=[],this.start1=!0,this.start2=!0,this.start3=!0,this.respinPlay3=!0,[4,f.default.sleep(1)];case 2:return i.sent(),this.isAllRespinRoll=!0,u.SoundManager.playSoundById("respin"),this.schedule(this.allRespinRoll,.01),[3,7];case 3:return"scatter_green"!=t?[3,5]:(u.SoundManager.playSoundById("luck_turn"),this.bigAwardNode.getChildByName("blue_bg").active=!1,this.bigAwardNode.getChildByName("green_bg").active=!0,this.bigAwardNode.getChildByName("red_bg").active=!1,this.bigAwardNode.getChildByName("respin").active=!1,this.bigAwardNode.getChildByName("scatter").active=!0,this.bigAwardNode.getChildByName("supperscatter").active=!1,[4,f.default.sleep(1)]);case 4:return i.sent(),this.turnStartParticle.resetSystem(),this.turnStartParticleAnimation=this.turnStartParticle.getComponent(cc.Animation),this.turnStartParticleAnimation.play(),this.turnStartAni.node.active=!0,this.turnStartAni.setAnimation(0,"greenwinstars",!1),this.turnStartAnimation=this.turnStartAni.getComponent(cc.Animation),this.turnStartAnimation&&(this.turnStartAnimation.play(),this.turnStartAnimation.on("finished",this.onturnStartAnimationFinished,this)),[3,7];case 5:return"scatter_red"!=t?[3,7]:(u.SoundManager.playSoundById("luck_turn1"),this.bigAwardNode.getChildByName("blue_bg").active=!1,this.bigAwardNode.getChildByName("green_bg").active=!1,this.bigAwardNode.getChildByName("red_bg").active=!0,this.bigAwardNode.getChildByName("respin").active=!1,this.bigAwardNode.getChildByName("scatter").active=!1,this.bigAwardNode.getChildByName("supperscatter").active=!0,[4,f.default.sleep(1)]);case 6:i.sent(),this.turnStartParticle.resetSystem(),this.turnStartParticleAnimation=this.turnStartParticle.getComponent(cc.Animation),this.turnStartParticleAnimation.play(),this.turnStartAni.node.active=!0,this.turnStartAni.setAnimation(0,"greenwinstars",!1),this.turnStartAnimation=this.turnStartAni.getComponent(cc.Animation),this.turnStartAnimation&&(this.turnStartAnimation.play(),this.turnStartAnimation.on("finished",this.onturnStartAnimationFinished,this)),i.label=7;case 7:return[2]}})})},e.prototype.onturnStartAnimationFinished=function(){this.turnStartParticle.stopSystem(),this.turnStartAni.node.active=!1,this.turnStartAni.node.position=new cc.Vec3(136,-207),this.turnEndAni.node.active=!0,"scatter_green"==this.special_symbols?(this.turnEndAni.setAnimation(0,"xzpwinstars",!1),this.isPlay=!1,this.startTurn()):"scatter_red"==this.special_symbols&&(this.turnEndAni.setAnimation(0,"redwinstars",!1),this.isPlay=!1,this.startTurn())},e.prototype.startTurn=function(){var t=this,e=this;this.isTurnPlay=!0,this.isPlayAni=!1,this.turnPlay.node.active=!0,Math.floor(this.lucky.amount/this.betmoney)>=50?this.turnPlay.setAnimation(0,"dajianghx",!0):this.turnPlay.setAnimation(0,"greenredhx",!0),u.SoundManager.play("turn_back"),u.SoundManager.playSoundById("startTurn"),this.zhuangpanNode.angle=0;var i,o=1*this.maxSpeed+c.Common.turntableItemRotation[0];i=3*this.maxSpeed+c.Common.turntableItemRotation[c.Common.turntableItemmMoney.indexOf(this.lucky.amount)],this.turnTween=cc.tween(this.zhuangpanNode).to(4,{angle:o},{easing:"cubicIn"}).to(4,{angle:i},{easing:"cubicOut"}).call(function(){return r(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return u.SoundManager.playSoundById("endTurn"),this.turnPlayEnd.node.active=!0,this.turnPlayEnd.node.angle=-i,this.turnPlayEnd.setAnimation(0,"greenredwin2",!0),"scatter_green"==e.special_symbols?e.turnPlay.setAnimation(0,"greenredwin1",!0):"scatter_red"==e.special_symbols&&e.turnPlay.setAnimation(0,"dajiangwin1",!0),e.special_profitLabel.string=e.special_profit.toFixed(2),[4,f.default.sleep(.5)];case 1:return t.sent(),this.winNumLabel.string="\u20b9 "+e.profit.toFixed(2),e.profit/e.betmoney>9?(this.showWinAni(e.profit/e.betmoney),[3,4]):[3,2];case 2:return u.SoundManager.play("back"),e.isTurnPlay=!1,[4,f.default.sleep(1.5)];case 3:t.sent(),this.isAutoBetting&&!this.isPlayAni?this.autoStartSpin():this.isAutoBetting||(this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""),t.label=4;case 4:return[2]}})})}).start()},e.prototype.showWinAni=function(t){var e=this;u.SoundManager.pause(),this.money_1.resetSystem(),this.money_2.resetSystem(),this.money_3.resetSystem(),this.money_4.resetSystem(),this.isPlayAni=!0,this.isTurnPlay=!1,this.winBg.active=!0,this.winAni.node.scale=1,this.winAni.node.active=!0,t>=10&&t<=19?(u.SoundManager.playSoundById("win_big"),this.bigduration=4,this.winAni.setAnimation(0,"bigwin1",!1)):t>=20&&t<=49?(u.SoundManager.playSoundById("win_mega"),this.bigduration=10,this.winAni.setAnimation(0,"megawin1",!1)):t>=50&&(u.SoundManager.playSoundById("win_super"),this.bigduration=11,this.winAni.setAnimation(0,"supperwin1",!1)),e.startNumber=0,e.targetNumber=this.profit,e.currentNumber=e.startNumber,e.timePassed=0,e.updateBigNumber(),e.schedule(e.updateBigCount,.01),this.winAni.setCompleteListener(this.winComplete.bind(this))},e.prototype.winComplete=function(){"bigwin1"==this.winAni.animation||"megawin1"==this.winAni.animation||"supperwin1"==this.winAni.animation?"bigwin1"==this.winAni.animation?this.winAni.setAnimation(0,"bigwin2",!0):"megawin1"==this.winAni.animation?this.winAni.setAnimation(0,"megawin2",!0):"supperwin1"==this.winAni.animation&&this.winAni.setAnimation(0,"supperwin2",!0):"bigwin2"==this.winAni.animation||"megawin2"==this.winAni.animation||this.winAni.animation},e.prototype.skipWinAni=function(){return r(this,void 0,void 0,function(){var t=this;return a(this,function(e){switch(e.label){case 0:return cc.director.getScheduler().isScheduled(this.updateBigCount,this)&&this.isPlayAni&&this.winAni.node.active&&!this.isFirstClick?(u.SoundManager.stopSound(),u.SoundManager.playSoundById("win_end"),this.isFirstClick=!0,this.unschedule(this.updateBigCount),"bigwin1"==this.winAni.animation?this.winAni.setAnimation(0,"bigwin2",!0):"megawin1"==this.winAni.animation?this.winAni.setAnimation(0,"megawin2",!0):"supperwin1"==this.winAni.animation&&this.winAni.setAnimation(0,"supperwin2",!0),this.money_1.stopSystem(),this.money_2.stopSystem(),this.money_3.stopSystem(),this.money_4.stopSystem(),this.currentNumber=this.targetNumber,this.updateBigNumber(),[4,f.default.sleep(1)]):[3,2];case 1:e.sent(),cc.tween(this.winAni.node).to(.3,{scale:0}).call(function(){return r(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return u.SoundManager.resume(),this.bigWinLabel.string="0",this.winBg.active=!1,this.winAni.node.active=!1,this.isPlayAni=!1,this.isFirstClick=!1,[4,f.default.sleep(1.5)];case 1:return t.sent(),this.isAutoBetting&&!this.isPlayAni?this.autoStartSpin():this.isAutoBetting||(this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""),[2]}})})}).start(),e.label=2;case 2:return[2]}})})},e.prototype.updateBigCount=function(t){return r(this,void 0,void 0,function(){var e,i=this;return a(this,function(o){switch(o.label){case 0:return this.timePassed+=t,this.timePassed>=this.bigduration?(this.money_1.stopSystem(),this.money_2.stopSystem(),this.money_3.stopSystem(),this.money_4.stopSystem(),this.currentNumber=this.targetNumber,this.updateBigNumber(),this.unschedule(this.updateBigCount),[4,f.default.sleep(1)]):[3,2];case 1:return o.sent(),cc.tween(this.winAni.node).to(.3,{scale:0}).call(function(){return r(i,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return u.SoundManager.resume(),this.bigWinLabel.string="0",this.winBg.active=!1,this.winAni.node.active=!1,this.isPlayAni=!1,this.isFirstClick=!1,[4,f.default.sleep(.5)];case 1:return t.sent(),this.isAutoBetting&&!this.isPlayAni?this.autoStartSpin():this.isAutoBetting||(this.autoBtn.node.getChildByName("Background").getChildByName("auto_unselect").active=!0,this.autoBtn.node.getChildByName("Background").getChildByName("auto_select").active=!1,this.autoCountLabel.string=""),[2]}})})}).start(),[3,3];case 2:e=this.timePassed/this.bigduration,this.currentNumber=this.startNumber+(this.targetNumber-this.startNumber)*e,this.updateBigNumber(),o.label=3;case 3:return[2]}})})},e.prototype.updateBigNumber=function(){var t;t=this.currentNumber>999?this.currentNumber.toFixed(2).toLocaleString():this.currentNumber.toFixed(2),this.bigWinLabel.string=t.toString()},e.prototype.showSettingView=function(){this.hideBetSetView(),this.isShowSettingView?(this.settingView.active=!1,this.isShowSettingView=!1):(this.settingView.active=!0,this.isShowSettingView=!0)},e.prototype.hideSettingView=function(){this.settingView.active=!1,this.isShowSettingView=!1},e.prototype.showBetSetView=function(){this.isRolling||this.isPlayAni||this.isTurnPlay||this.isAutoBetting||(this.hideSettingView(),this.betSetView.getChildByName("setNode").getChildByName("toggle100").getComponent(cc.Toggle).isChecked=100==this.betmoney,this.betSetView.getChildByName("setNode").getChildByName("toggle50").getComponent(cc.Toggle).isChecked=50==this.betmoney,this.betSetView.getChildByName("setNode").getChildByName("toggle10").getComponent(cc.Toggle).isChecked=10==this.betmoney,this.betSetView.getChildByName("setNode").getChildByName("toggle5").getComponent(cc.Toggle).isChecked=5==this.betmoney,this.betSetView.getChildByName("setNode").getChildByName("toggle1").getComponent(cc.Toggle).isChecked=1==this.betmoney,this.isShowBetSetView?(this.betSetView.active=!1,this.isShowBetSetView=!1):(this.betSetView.active=!0,this.isShowBetSetView=!0))},e.prototype.hideBetSetView=function(){this.betSetView.active=!1,this.isShowBetSetView=!1},e.prototype.showAutoSpinView=function(){this.hideSettingView(),c.Common.showAutoSpinView()},e.prototype.showFortuneGems=function(){this.hideSettingView(),c.Common.showFortuneGems()},e.prototype.showBackpackView=function(){c.Common.showBackpackView()},e.prototype.showWinMoreView=function(){c.Common.showWinMoreView()},e.prototype.showrecordView=function(){this.hideSettingView(),p.default.Instance.onQuery_bettingrecord(),c.Common.showrecordView()},s([b(cc.Node)],e.prototype,"playGame",void 0),s([b(cc.Node)],e.prototype,"bottomNode",void 0),s([b(sp.Skeleton)],e.prototype,"startGameAni",void 0),s([b(cc.Node)],e.prototype,"zhuangpanNode",void 0),s([b(cc.Label)],e.prototype,"bettingLabel",void 0),s([b(cc.RichText)],e.prototype,"balanceLabel",void 0),s([b(cc.Label)],e.prototype,"winNumLabel",void 0),s([b(cc.Node)],e.prototype,"lockNode",void 0),s([b(sp.Skeleton)],e.prototype,"lockAni",void 0),s([b(cc.Node)],e.prototype,"lockSolt",void 0),s([b(sp.Skeleton)],e.prototype,"chainAni",void 0),s([b(cc.Node)],e.prototype,"betSetView",void 0),s([b(cc.Node)],e.prototype,"betImage",void 0),s([b(cc.Node)],e.prototype,"titleNode",void 0),s([b(cc.Node)],e.prototype,"select_10",void 0),s([b(cc.Node)],e.prototype,"select_50",void 0),s([b(cc.Button)],e.prototype,"menuBtn",void 0),s([b(cc.Node)],e.prototype,"menuView",void 0),s([b(cc.Label)],e.prototype,"tipLabel",void 0),s([b(cc.Label)],e.prototype,"tipLabel_1",void 0),s([b(cc.Node)],e.prototype,"settingView",void 0),s([b(cc.Button)],e.prototype,"autoBtn",void 0),s([b(cc.Node)],e.prototype,"showViewNode",void 0),s([b(cc.Node)],e.prototype,"showTipNode",void 0),s([b(cc.Node)],e.prototype,"roulettebg_green",void 0),s([b(cc.Node)],e.prototype,"roulettebg_red",void 0),s([b(cc.Node)],e.prototype,"iconBg_green",void 0),s([b(cc.Node)],e.prototype,"iconBg_red",void 0),s([b(cc.Node)],e.prototype,"slotItem",void 0),s([b(cc.Node)],e.prototype,"slotItemNode_1",void 0),s([b(cc.Node)],e.prototype,"slotItemNode_2",void 0),s([b(cc.Node)],e.prototype,"slotItemNode_3",void 0),s([b(cc.Node)],e.prototype,"multipleItem",void 0),s([b(cc.Node)],e.prototype,"multipleItemNode",void 0),s([b(cc.Toggle)],e.prototype,"turboSpin",void 0),s([b(cc.Node)],e.prototype,"winBg",void 0),s([b(sp.Skeleton)],e.prototype,"winAni",void 0),s([b(cc.Label)],e.prototype,"bigWinLabel",void 0),s([b(cc.Node)],e.prototype,"bigAwardNode",void 0),s([b(cc.Label)],e.prototype,"symbols_profitLabel",void 0),s([b(cc.Label)],e.prototype,"special_profitLabel",void 0),s([b(sp.Skeleton)],e.prototype,"all_respinEffect",void 0),s([b(sp.Skeleton)],e.prototype,"turnStartAni",void 0),s([b(sp.Skeleton)],e.prototype,"turnEndAni",void 0),s([b(sp.Skeleton)],e.prototype,"turnPlay",void 0),s([b(sp.Skeleton)],e.prototype,"turnPlayEnd",void 0),s([b(sp.Skeleton)],e.prototype,"moneySelectAni",void 0),s([b(cc.Label)],e.prototype,"autoCountLabel",void 0),s([b(cc.AudioSource)],e.prototype,"musicNode",void 0),s([b(cc.AudioSource)],e.prototype,"soundNode",void 0),s([b(cc.AudioSource)],e.prototype,"soundNode1",void 0),s([b(cc.AudioSource)],e.prototype,"soundNode2",void 0),s([b(cc.Node)],e.prototype,"music",void 0),s([b(sp.Skeleton)],e.prototype,"btnEffect",void 0),s([b(cc.Node)],e.prototype,"connectionNode",void 0),s([b(cc.Label)],e.prototype,"orderidLabel",void 0),s([b(cc.Node)],e.prototype,"light_effect",void 0),s([b(cc.Node)],e.prototype,"light_effect1",void 0),s([b(cc.ParticleSystem)],e.prototype,"money_1",void 0),s([b(cc.ParticleSystem)],e.prototype,"money_2",void 0),s([b(cc.ParticleSystem)],e.prototype,"money_3",void 0),s([b(cc.ParticleSystem)],e.prototype,"money_4",void 0),s([b(cc.ParticleSystem)],e.prototype,"turnStartParticle",void 0),s([g],e)}(cc.Component);i.default=v,cc._RF.pop()},{"./common/Common":"Common","./manager/EgrManager":"EgrManager","./manager/SoundManager":"SoundManager","./manager/net/NetMgr":"NetMgr","./manager/net/SocketIOManager":"SocketIOManager","./ui/multipleItem":"multipleItem","./ui/slotItem":"slotItem","./utils/PromiseUtil":"PromiseUtil"}],loading:[function(t,e,i){"use strict";cc._RF.push(e,"5e5b77OG/tKG5TBU8i5j7ee","loading");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("./common/Common"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressBar=null,e.loadProgress=0,e.currentCount=0,e.totalCount=3,e}return n(e,t),e.prototype.onLoad=function(){var t=this;cc.debug.setDisplayStats(!1),cc.director.preloadScene("intro",function(){}),cc.director.preloadScene("game",function(){}),cc.loader.loadRes("atlas/item",cc.SpriteAtlas,function(t,e){r.Common.item_icons.push(e)}),cc.loader.loadRes("atlas/gems",cc.SpriteAtlas,function(t,e){r.Common.record_item_icons.push(e)}),cc.resources.loadDir("sound",function(e,i){var o=parseFloat((e/i).toFixed(3));t.updateProgress(o)},function(t){t&&console.error("Failed to preload resources:",t)})},e.prototype.updateProgress=function(t){if(t>this.progressBar.progress&&(this.progressBar.progress=t),t>=1){var e=cc.sys.localStorage.getItem("startScene");null!=e?cc.director.loadScene(e):cc.director.loadScene("intro")}},s([l(cc.ProgressBar)],e.prototype,"progressBar",void 0),s([c],e)}(cc.Component);i.default=u,cc._RF.pop()},{"./common/Common":"Common"}],multipleItem:[function(t,e,i){"use strict";cc._RF.push(e,"ff8a8fSZOBNlIQ8RMu2rFx2","multipleItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r},r=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))(function(n,s){function r(t){try{c(o.next(t))}catch(e){s(e)}}function a(t){try{c(o.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(r,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var i,o,n,s,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(t){return function(e){return c([t,e])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(n=(n=r.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){r=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){r.label=s[1];break}if(6===s[0]&&r.label<n[1]){r.label=n[1],n=s;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(s);break}n[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(a){s=[6,a],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=cc._decorator,l=c.ccclass,u=c.property,h=c.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.bg=null,e.win=null,e.iconAni=null,e._multiple="",e.jumpDuration=1,e.scaleUpRatio=1.15,e.scaleDownRatio=1,e}return n(e,t),e.prototype.initView=function(t){this._multiple=t;var e=this;cc.resources.load("atlas/item",cc.SpriteAtlas,function(i,o){return r(this,void 0,void 0,function(){var i;return a(this,function(){return i=o.getSpriteFrame(t),e.icon.getComponent(cc.Sprite).spriteFrame=i,[2]})})})},e.prototype.chageView=function(){},e.prototype.setRunAction=function(){this.icon.active=!1,this.iconAni.node.active=!0,"x2"==this._multiple?this.iconAni.setAnimation(0,"x2",!0):"x5"==this._multiple?this.iconAni.setAnimation(0,"x5",!0):"x10"==this._multiple?this.iconAni.setAnimation(0,"x10",!0):"all_respin"==this._multiple?this.iconAni.setAnimation(0,"all",!0):"scatter"==this._multiple?this.iconAni.setAnimation(0,"lvsexiaojiang",!0):"scatter_100"==this._multiple&&this.iconAni.setAnimation(0,"lpred",!0)},Object.defineProperty(e.prototype,"multiple",{get:function(){return this._multiple},enumerable:!1,configurable:!0}),s([u(cc.Node)],e.prototype,"icon",void 0),s([u(cc.Node)],e.prototype,"bg",void 0),s([u(cc.Node)],e.prototype,"win",void 0),s([u(sp.Skeleton)],e.prototype,"iconAni",void 0),s([l,h("xuhang/item/multipleItem")],e)}(cc.Component);i.default=p,cc._RF.pop()},{}],recordItem:[function(t,e,i){"use strict";cc._RF.push(e,"71ed68C2L5CqI2U+pkJhkgO","recordItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../manager/EgrManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=a.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.netSpecialLabel=null,e.betWin=null,e.roundNumber=null,e.timeLabel=null,e.special=null,e}return n(e,t),e.prototype.initView=function(t){if(this.data=t,"all_respin"==t.special_symbols||"scatter_green"==t.special_symbols||"scatter_red"==t.special_symbols){Number(t.mprofit)<0?this.netSpecialLabel.string="<color=#D1575D>\u20b9"+t.mprofit+"</c><color=#FFFFFF>/</color>":this.netSpecialLabel.string="<color=#4feeb9>\u20b9"+t.mprofit+"</c><color=#FFFFFF>/</color>",this.special.active=!0;var e=t.mprofit+"/";this.special.x=this.netSpecialLabel.fontSize/2*e.length+10}else Number(t.mprofit)<0?this.netSpecialLabel.string="<color=#D1575D>\u20b9"+t.mprofit+"</c><color=#FFFFFF>/-</color>":this.netSpecialLabel.string="<color=#4feeb9>\u20b9"+t.mprofit+"</c><color=#FFFFFF>/-</color>",this.special.active=!1;this.betWin.string="\u20b9"+t.money+"/\u20b9"+t.profit,t.orderid?this.roundNumber.string=this.formatString(t.orderid,18):this.roundNumber.string="fail";var i=new Date;this.timeLabel.string=i.getFullYear()+"/"+t.time.replace(/-/g,"/")+"\n(GMT+8)"},e.prototype.showDetails=function(){r.EgrManager.Instance.dispatch_event("showDetails","",this.data)},e.prototype.formatString=function(t,e){return t.length>e?t.substring(0,e-2)+"..":t},s([l(cc.RichText)],e.prototype,"netSpecialLabel",void 0),s([l(cc.Label)],e.prototype,"betWin",void 0),s([l(cc.Label)],e.prototype,"roundNumber",void 0),s([l(cc.Label)],e.prototype,"timeLabel",void 0),s([l(cc.Node)],e.prototype,"special",void 0),s([c,u("xuhang/item/recordItem")],e)}(cc.Component);i.default=h,cc._RF.pop()},{"../manager/EgrManager":"EgrManager"}],recordView:[function(t,e,i){"use strict";cc._RF.push(e,"69a3fRHHqRJPrm7DQnuQoHD","recordView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r},r=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))(function(n,s){function r(t){try{c(o.next(t))}catch(e){s(e)}}function a(t){try{c(o.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(r,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var i,o,n,s,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(t){return function(e){return c([t,e])}}function c(s){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(n=(n=r.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){r=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){r.label=s[1];break}if(6===s[0]&&r.label<n[1]){r.label=n[1],n=s;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(s);break}n[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(a){s=[6,a],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=t("../common/Common"),l=t("../manager/EgrManager"),u=t("../manager/net/SocketIOManager"),h=t("../ui/ItemDay"),p=t("../ui/recordItem"),d=t("../utils/PromiseUtil"),m=cc._decorator,f=m.ccclass,y=m.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.main=null,e.idLabel=null,e.walkingNodes=null,e.noResultNode=null,e.noResultLabel=null,e.resultNode=null,e.scrollView=null,e.itemContentNode=null,e.itemNode=null,e.item=null,e.scrollViewBg=null,e.tipLabel=null,e.idEditBox=null,e.dateView=null,e.pfbDay=null,e.ndDays=null,e.dateTitle=null,e.dateLabel=null,e.loadLabel=null,e.detailScrollView=null,e.detailIdLabel=null,e.detailRoundNumber=null,e.detailNetLabel=null,e.detailBetLabel=null,e.detailPumpingLabel=null,e.detailWinLabel=null,e.detailTimeLabel=null,e.resultItem=null,e.specialItem=null,e.resultToggleContainer=null,e.specialToggle=null,e.specialToggleContainer=null,e.resultToggle=null,e.mainGameWinLabel=null,e.specialWinLabel=null,e.aloneWin=null,e.specialAloneWin=null,e.aloneBg=null,e.specialAloneBg=null,e.aloneLabel=null,e.specialAloneLabel=null,e.pumpingNode=null,e.detailContent=null,e.detailItemsNode=null,e.currentPage=0,e.currentType="15mins",e.isShowDateView=!1,e.date=null,e.year=0,e.month=0,e.day=0,e.cb=null,e.pfgListDay=[],e.monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e}return n(e,t),e.prototype.show=function(){this.initData(),this.updateDate(),this.moveTitle(),this.main.active=!0,this.idLabel.string=c.Common.userid+"",l.EgrManager.Instance.add_event_listenner("showRecordView",this,this.onShowView),l.EgrManager.Instance.add_event_listenner("showDetails",this,this.onShowDetails);var t=this;this.scrollView.node.on("scroll-to-bottom",function(){console.log("ScrollView scrolled to bottom"),t.loadLabel.string="Loading Result.",0==t.currentPage?(t.currentPage=2,t.loadQuery_bettingrecordByPage()):(t.currentPage+=1,t.loadQuery_bettingrecordByPage())})},e.prototype.moveTitle=function(){return r(this,void 0,void 0,function(){var t=this;return a(this,function(){return cc.tween(this.walkingNodes).to(.5,{position:new cc.Vec3(0,-2,0)}).call(function(){return r(t,void 0,void 0,function(){var t=this;return a(this,function(e){switch(e.label){case 0:return[4,d.default.sleep(5)];case 1:return e.sent(),cc.tween(this.walkingNodes).to(.5,{position:new cc.Vec3(0,27,0)}).call(function(){return r(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,d.default.sleep(5)];case 1:return t.sent(),this.moveTitle(),[2]}})})}).start(),[2]}})})}).start(),[2]})})},e.prototype.onShowView=function(){if(0==this.currentPage&&(this.resultNode.active=!1,this.detailScrollView.node.active=!1,this.noResultLabel.string="No Result."),0==c.Common.recordArr.length)0==this.currentPage?(this.noResultNode.active=!0,this.resultNode.active=!1):(this.noResultNode.active=!1,this.resultNode.active=!0,this.loadLabel.string="Resource download completed.");else if(0==this.currentPage){this.noResultNode.active=!1,this.resultNode.active=!0,this.itemNode.removeAllChildren();for(var t=0;t<c.Common.recordArr.length;t++)(i=cc.instantiate(this.item)).active=!0,i.getComponent(p.default).initView(c.Common.recordArr[t]),i.setPosition(-167,0),this.itemNode.addChild(i),this.itemNode.height=170*t+170;this.itemContentNode.height=320+this.itemNode.height,this.scrollViewBg.height=this.itemNode.height+60,this.tipLabel.getComponent(cc.Widget).bottom=16.4,this.loadLabel.string="Resource download completed."}else{var e=this.itemNode.height;for(this.noResultNode.active=!1,this.resultNode.active=!0,t=0;t<c.Common.recordArr.length;t++){var i;(i=cc.instantiate(this.item)).active=!0,i.getComponent(p.default).initView(c.Common.recordArr[t]),i.setPosition(-167,0),this.itemNode.addChild(i),this.itemNode.height=e+170*t+170}this.itemContentNode.height=320+this.itemNode.height,this.scrollViewBg.height=this.itemNode.height+60,this.tipLabel.getComponent(cc.Widget).bottom=16.4,this.loadLabel.string="Resource download completed."}},e.prototype.onShowDetails=function(t,e,i){this.detailIdLabel.string=c.Common.userid+"",i.orderid?(this.roundNum=i.orderid.toString(),this.detailRoundNumber.string=this.formatString(i.orderid,18)):this.detailRoundNumber.string="",this.detailNetLabel.string=c.Common.moneyStr+i.mprofit+"",Number(i.mprofit)>0?this.detailNetLabel.node.color=new cc.Color(72,190,144,255):this.detailNetLabel.node.color=new cc.Color(238,77,76,255),this.detailBetLabel.string=c.Common.moneyStr+i.money+"",this.detailWinLabel.string=c.Common.moneyStr+i.profit;var o=new Date;this.detailTimeLabel.string=o.getFullYear()+"/"+i.time.replace(/-/g,"/")+"\n(GMT+8)",this.scrollView.node.active=!1,this.detailScrollView.node.active=!0;var n=this.detailContent.getComponent(cc.Layout);null!=i.pumping?(this.pumpingNode.active=!0,this.detailItemsNode.height=682,n.spacingY=-300,this.detailPumpingLabel.string=c.Common.moneyStr+i.pumping):(this.pumpingNode.active=!1,this.detailItemsNode.height=514,n.spacingY=-220);for(var s=0;s<i.result[0].lines.length;s++)if((h=i.result[0].lines)[s]){this.resultItem.getChildByName("bg").getChildByName("item"+s).active=!0;var r=c.Common.recordItemType.indexOf(h[s]),a=c.Common.record_item_icons[0].getSpriteFrame(c.Common.recordItemType[r]);this.resultItem.getChildByName("bg").getChildByName("item"+s).getComponent(cc.Sprite).spriteFrame=a}else this.resultItem.getChildByName("bg").getChildByName("item"+s).active=!1;var l=c.Common.recordmultipleArrServer.indexOf(i.special_symbols),u=c.Common.record_item_icons[0].getSpriteFrame(c.Common.recordMultipleArr[l]);if(this.resultItem.getChildByName("bg").getChildByName("multiple1").getComponent(cc.Sprite).spriteFrame=u,this.resultItem.getChildByName("bg").getChildByName("result1").active=!1,this.aloneWin.active=!1,Number(i.profit)>0?(this.resultToggle.active=!0,"scatter_green"==i.special_symbols||"scatter_red"==i.special_symbols?(this.mainGameWinLabel.string="Main game win:"+c.Common.moneyStr+i.result[0].amount+"\nLucky Wheel Win:"+c.Common.moneyStr+i.special_profit,this.resultItem.height=320,this.resultItem.getChildByName("bg").color=new cc.Color(41,84,23,1)):"2"==i.special_symbols||"5"==i.special_symbols||"10"==i.special_symbols?(this.mainGameWinLabel.string="Special Rell: x"+i.special_symbols+"\nMultiplied Bonus Score:"+c.Common.moneyStr+i.mprofit,this.resultItem.height=360,this.resultItem.getChildByName("bg").color=new cc.Color(119,111,19,1)):(this.mainGameWinLabel.string="Main game win:"+c.Common.moneyStr+i.result[0].amount,this.resultItem.height=270,"all_respin"==i.special_symbols?this.resultItem.getChildByName("bg").color=new cc.Color(65,23,23,1):this.resultItem.getChildByName("bg").color=new cc.Color(60,65,68,1))):(this.resultToggle.active=!1,this.resultItem.height=200,this.mainGameWinLabel.string="",this.resultItem.getChildByName("bg").color=new cc.Color(60,65,68,1)),this.resultToggle.name=i.result[0].amount+"",i.result.length>1){for(this.specialItem.active=!0,s=0;s<i.result[1].lines.length;s++){var h;if((h=i.result[1].lines)[s]){this.specialItem.getChildByName("bg").getChildByName("item"+s).active=!0,r=c.Common.recordItemType.indexOf(h[s]);var p=c.Common.record_item_icons[0].getSpriteFrame(c.Common.recordItemType[r]);this.specialItem.getChildByName("bg").getChildByName("item"+s).getComponent(cc.Sprite).spriteFrame=p}else this.specialItem.getChildByName("bg").getChildByName("item"+s).active=!1}var d=c.Common.recordMultipleArr[c.Common.recordmultipleArrServer.indexOf(i.special_symbols)],m=c.Common.record_item_icons[0].getSpriteFrame(d);this.specialItem.getChildByName("bg").getChildByName("multiple1").getComponent(cc.Sprite).spriteFrame=m,this.specialItem.getChildByName("bg").getChildByName("result1").active=!1,this.specialToggle.name=i.result[1].amount+"","all_respin"==i.special_symbols?this.specialItem.getChildByName("bg").color=new cc.Color(65,23,23,1):this.specialItem.getChildByName("bg").color=new cc.Color(60,65,68,1),i.special_profit>0?(this.specialToggle.active=!0,this.specialItem.height=270,this.specialWinLabel.string="Respin Win:"+c.Common.moneyStr+i.special_profit):(this.specialToggle.active=!1,this.specialItem.height=200,this.specialWinLabel.string="")}else this.specialItem.active=!1},e.prototype.onShowResultLine=function(){return r(this,void 0,void 0,function(){var t;return a(this,function(){return this.aloneWin.active=!0,t=this.resultToggle.name,this.resultItem.getChildByName("bg").getChildByName("result1").active=!0,this.aloneLabel.string=c.Common.moneyStr+c.Common.oDecimal2(t)+" \u2192",[2]})})},e.prototype.onShowSpecialLine=function(){return r(this,void 0,void 0,function(){var t;return a(this,function(){return this.specialAloneWin.active=!0,t=this.specialToggle.name,this.specialItem.getChildByName("bg").getChildByName("result1").active=!0,this.specialAloneLabel.string=c.Common.moneyStr+c.Common.oDecimal2(t)+" \u2192",[2]})})},e.prototype.hide=function(){this.itemNode.removeAllChildren(),this.main.active=!1,c.Common.curShowView=null},e.prototype.onSelectResultTime=function(t,e){var i=Math.floor((new Date).getTime()/1e3),o=0;this.resultNode.active=!1,this.detailScrollView.node.active=!1,this.noResultLabel.string="Loading Result.","15mins"==e?(this.currentType="15mins",this.currentPage=0,o=i-900,this.noResultNode.active=!0,this.resultNode.active=!1,u.default.Instance.onQuery_bettingrecord(o,i)):"30mins"==e?(this.currentType="30mins",this.currentPage=0,o=i-1800,this.noResultNode.active=!0,this.resultNode.active=!1,u.default.Instance.onQuery_bettingrecord(o,i)):"1hour"==e&&(this.currentType="1hour",o=i-3600,this.currentPage=0,this.noResultNode.active=!0,this.resultNode.active=!1,u.default.Instance.onQuery_bettingrecord(o,i))},e.prototype.onQuery_bettingrecordById=function(){this.resultNode.active=!1,this.detailScrollView.node.active=!1,this.noResultLabel.string="Loading Result.",this.noResultNode.active=!0,this.resultNode.active=!1,this.currentPage=0,u.default.Instance.onQuery_bettingrecord(0,0,this.idEditBox.string)},e.prototype.onQuery_bettingrecordByDate=function(){var t=0,e=0;if(this.resultNode.active=!1,this.detailScrollView.node.active=!1,this.noResultLabel.string="Loading Result.",this.noResultNode.active=!0,this.resultNode.active=!1,this.currentPage=0,this.currentType="date",""!=this.dateLabel.string){var i=this.dateLabel.string.split("-"),o=new Date(Number(i[0]),Number(i[1])-1,Number(i[2]),0,0,0);t=Math.floor(o.getTime()/1e3);var n=new Date(Number(i[0]),Number(i[1])-1,Number(i[2]),23,59,59);e=Math.floor(n.getTime()/1e3),u.default.Instance.onQuery_bettingrecord(t,e)}},e.prototype.loadQuery_bettingrecordByPage=function(){var t=Math.floor((new Date).getTime()/1e3),e=0;if("15mins"==this.currentType)this.currentType="15mins",e=t-900,u.default.Instance.onQuery_bettingrecord(e,t,null,this.currentPage);else if("30mins"==this.currentType)this.currentType="30mins",e=t-1800,u.default.Instance.onQuery_bettingrecord(e,t,null,this.currentPage);else if("1hour"==this.currentType)this.currentType="1hour",e=t-3600,u.default.Instance.onQuery_bettingrecord(e,t,null,this.currentPage);else if("date"==this.currentType){var i=this.dateLabel.string.split("-"),o=new Date(Number(i[0]),Number(i[1])-1,Number(i[2]),0,0,0);t=Math.floor(o.getTime()/1e3);var n=new Date(Number(i[0]),Number(i[1])-1,Number(i[2]),23,59,59);e=Math.floor(n.getTime()/1e3),u.default.Instance.onQuery_bettingrecord(t,e,null,this.currentPage)}},e.prototype.onClearEditString=function(){this.idEditBox.string=""},e.prototype.onClearDateString=function(){this.dateLabel.string=""},e.prototype.backRecordView=function(){this.scrollView.node.active=!0,this.detailScrollView.node.active=!1},e.prototype.showDateView=function(){var t=this;this.isShowDateView?cc.tween(this.dateView).to(.2,{scaleX:.54,scaleY:0},{easing:"cubicInOut"}).call(function(){t.isShowDateView=!1}).start():cc.tween(this.dateView).to(.2,{scaleX:.54,scaleY:.54},{easing:"cubicInOut"}).call(function(){t.isShowDateView=!0}).start()},e.prototype.hideDateView=function(){var t=this;cc.tween(this.dateView).to(.2,{scaleX:.54,scaleY:0},{easing:"cubicInOut"}).call(function(){t.isShowDateView=!1}).start()},e.prototype.initData=function(){this.date=this.date?this.date:new Date,this.year=this.date.getFullYear(),this.month=this.date.getMonth(),this.day=this.date.getDate(),this.pfgListDay=[];for(var t=new Date(this.year,this.month,0).getDate(),e=0;e<t;e++){var i=cc.instantiate(this.pfbDay);this.ndDays.addChild(i),this.pfgListDay.push(i)}},e.prototype.setDate=function(t,e,i){t<0||e<0||e>11||i<1||i>31?console.error("Invalid date!"):(this.date=new Date(t,e,i),this.year=this.date.getFullYear(),this.month=this.date.getMonth(),this.day=this.date.getDate(),this.updateDate())},e.prototype.updateDate=function(){var t=this;this.dateTitle.string=this.year+"  "+this.monthNames[this.month];for(var e=new Date(this.year,this.month+1,0).getDate(),i=new Date(this.year,this.month,1).getDay(),o=0;o<this.pfgListDay.length;o++){var n=this.pfgListDay[o];if(o<e){n.active=!0;var s=i+o,r=Math.floor(s/7),a=s%7,c=.5*-(this.ndDays.width-n.width-22)+a*n.width*1.8,l=.5*(this.ndDays.height-n.height-80)-r*n.height*1.8;n.setPosition(c,l),n.getComponent(h.default).setDay(o,o+1,this.day===o+1,function(e,i){t.day=i,t.updateDate(),t.dateLabel.string=t.year+"-"+(t.month+1)+"-"+i,t.hideDateView()})}else n.active=!1}},e.prototype.onClickLeft=function(){this.month>0?this.month-=1:(this.month=11,this.year-=1),this.date.setFullYear(this.year),this.date.setMonth(this.month),this.updateDate()},e.prototype.onClickRight=function(){this.month<11?this.month+=1:(this.month=0,this.year+=1),this.date.setFullYear(this.year),this.date.setMonth(this.month),this.updateDate()},e.prototype.setPickDateCallback=function(t){this.cb=t},e.prototype.onCopyText=function(){var t=this.roundNum;if(navigator.clipboard)navigator.clipboard.writeText(t).then(function(){c.Common.showPrompt("Successfully Copied")}).catch(function(t){console.log("\u590d\u5236\u5931\u8d25",t)});else{var e=document.createElement("textarea");e.value=t,e.style.position="absolute",e.style.opacity="0",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),e.remove(),console.error("\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Clipboard API"),c.Common.showPrompt("Successfully Copied")}},e.prototype.formatString=function(t,e){return t.length>e?t.substring(0,e-2)+"..":t},s([y(cc.Node)],e.prototype,"main",void 0),s([y(cc.Label)],e.prototype,"idLabel",void 0),s([y(cc.Node)],e.prototype,"walkingNodes",void 0),s([y(cc.Node)],e.prototype,"noResultNode",void 0),s([y(cc.Label)],e.prototype,"noResultLabel",void 0),s([y(cc.Node)],e.prototype,"resultNode",void 0),s([y(cc.ScrollView)],e.prototype,"scrollView",void 0),s([y(cc.Node)],e.prototype,"itemContentNode",void 0),s([y(cc.Node)],e.prototype,"itemNode",void 0),s([y(cc.Node)],e.prototype,"item",void 0),s([y(cc.Node)],e.prototype,"scrollViewBg",void 0),s([y(cc.Label)],e.prototype,"tipLabel",void 0),s([y(cc.EditBox)],e.prototype,"idEditBox",void 0),s([y(cc.Node)],e.prototype,"dateView",void 0),s([y(cc.Node)],e.prototype,"pfbDay",void 0),s([y(cc.Node)],e.prototype,"ndDays",void 0),s([y(cc.Label)],e.prototype,"dateTitle",void 0),s([y(cc.Label)],e.prototype,"dateLabel",void 0),s([y(cc.Label)],e.prototype,"loadLabel",void 0),s([y(cc.ScrollView)],e.prototype,"detailScrollView",void 0),s([y(cc.Label)],e.prototype,"detailIdLabel",void 0),s([y(cc.Label)],e.prototype,"detailRoundNumber",void 0),s([y(cc.Label)],e.prototype,"detailNetLabel",void 0),s([y(cc.Label)],e.prototype,"detailBetLabel",void 0),s([y(cc.Label)],e.prototype,"detailPumpingLabel",void 0),s([y(cc.Label)],e.prototype,"detailWinLabel",void 0),s([y(cc.Label)],e.prototype,"detailTimeLabel",void 0),s([y(cc.Node)],e.prototype,"resultItem",void 0),s([y(cc.Node)],e.prototype,"specialItem",void 0),s([y(cc.Node)],e.prototype,"resultToggleContainer",void 0),s([y(cc.Node)],e.prototype,"specialToggle",void 0),s([y(cc.Node)],e.prototype,"specialToggleContainer",void 0),s([y(cc.Node)],e.prototype,"resultToggle",void 0),s([y(cc.Label)],e.prototype,"mainGameWinLabel",void 0),s([y(cc.Label)],e.prototype,"specialWinLabel",void 0),s([y(cc.Node)],e.prototype,"aloneWin",void 0),s([y(cc.Node)],e.prototype,"specialAloneWin",void 0),s([y(cc.Node)],e.prototype,"aloneBg",void 0),s([y(cc.Node)],e.prototype,"specialAloneBg",void 0),s([y(cc.Label)],e.prototype,"aloneLabel",void 0),s([y(cc.Label)],e.prototype,"specialAloneLabel",void 0),s([y(cc.Node)],e.prototype,"pumpingNode",void 0),s([y(cc.Node)],e.prototype,"detailContent",void 0),s([y(cc.Node)],e.prototype,"detailItemsNode",void 0),s([f],e)}(cc.Component);i.default=g,cc._RF.pop()},{"../common/Common":"Common","../manager/EgrManager":"EgrManager","../manager/net/SocketIOManager":"SocketIOManager","../ui/ItemDay":"ItemDay","../ui/recordItem":"recordItem","../utils/PromiseUtil":"PromiseUtil"}],slotItem:[function(t,e,i){"use strict";cc._RF.push(e,"09e13nc89pFkKbfsL40B5cl","slotItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../common/Common"),a=cc._decorator,c=a.ccclass,l=a.property,u=a.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.iconAni=null,e.jumpDuration=1,e.scaleUpRatio=1.15,e.scaleDownRatio=1,e}return n(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.m_type},enumerable:!1,configurable:!0}),e.prototype.initView=function(t){var e;this.m_type=t,e=r.Common.item_icons[0].getSpriteFrame(t),this.icon.getComponent(cc.Sprite).spriteFrame=e},e.prototype.changeView=function(t){var e;e=r.Common.item_icons[0].getSpriteFrame(t),this.icon.getComponent(cc.Sprite).spriteFrame=e},e.prototype.setRunAction=function(){this.icon.active=!1,this.iconAni.node.active=!0,"00"==this.m_type?this.iconAni.setAnimation(0,"doublezero",!0):"0"==this.m_type?this.iconAni.setAnimation(0,"zero",!0):"1"==this.m_type?this.iconAni.setAnimation(0,"onr",!0):"5"==this.m_type?this.iconAni.setAnimation(0,"five",!0):"10"==this.m_type&&this.iconAni.setAnimation(0,"ten",!0)},s([l(cc.Node)],e.prototype,"icon",void 0),s([l(sp.Skeleton)],e.prototype,"iconAni",void 0),s([c,u("xuhang/item/slotItem")],e)}(cc.Component);i.default=h,cc._RF.pop()},{"../common/Common":"Common"}]},{},["Intro","ButtonEffect","Common","game","loading","EgrManager","ResManager","SoundManager","NetMgr","SocketIOManager","AutoSpinView","BackpackView","FortuneGems","PromptView","TipView","WinMoreView","recordView","ItemDay","multipleItem","recordItem","slotItem","GradientColor","PromiseUtil"]);